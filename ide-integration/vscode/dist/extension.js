(()=>{"use strict";var e={18(e,t,n){var s=n(484),r=n(9714),o=n(1755),i=n(6010),a=n(7434),c=n(483),l=n(2291);function u(e,t,n,s,r,o){const i="block-map"===n.type?a.resolveBlockMap(e,t,n,s,o):"block-seq"===n.type?c.resolveBlockSeq(e,t,n,s,o):l.resolveFlowCollection(e,t,n,s,o),u=i.constructor;return"!"===r||r===u.tagName?(i.tag=u.tagName,i):(r&&(i.tag=r),i)}t.composeCollection=function(e,t,n,a,c){const l=a.tag,h=l?t.directives.tagName(l.source,e=>c(l,"TAG_RESOLVE_FAILED",e)):null;if("block-seq"===n.type){const{anchor:e,newlineAfterProp:t}=a,n=e&&l?e.offset>l.offset?e:l:e??l;n&&(!t||t.offset<n.offset)&&c(n,"MISSING_CHAR","Missing newline after block sequence props")}const p="block-map"===n.type?"map":"block-seq"===n.type?"seq":"{"===n.start.source?"map":"seq";if(!l||!h||"!"===h||h===o.YAMLMap.tagName&&"map"===p||h===i.YAMLSeq.tagName&&"seq"===p)return u(e,t,n,c,h);let d=t.schema.tags.find(e=>e.tag===h&&e.collection===p);if(!d){const s=t.schema.knownTags[h];if(s?.collection!==p)return s?c(l,"BAD_COLLECTION_TYPE",`${s.tag} used for ${p} collection, but expects ${s.collection??"scalar"}`,!0):c(l,"TAG_RESOLVE_FAILED",`Unresolved tag: ${h}`,!0),u(e,t,n,c,h);t.schema.tags.push(Object.assign({},s,{default:!1})),d=s}const f=u(e,t,n,c,h,d),m=d.resolve?.(f,e=>c(l,"TAG_RESOLVE_FAILED",e),t.options)??f,g=s.isNode(m)?m:new r.Scalar(m);return g.range=f.range,g.tag=h,d?.format&&(g.format=d.format),g}},81(e,t,n){var s=n(484),r=n(3793),o=n(248);function i({comment:e,items:t},n,{blockItemPrefix:i,flowChars:a,itemIndent:l,onChompKeep:u,onComment:h}){const{indent:p,options:{commentString:d}}=n,f=Object.assign({},n,{indent:l,type:null});let m=!1;const g=[];for(let e=0;e<t.length;++e){const a=t[e];let u=null;if(s.isNode(a))!m&&a.spaceBefore&&g.push(""),c(n,g,a.commentBefore,m),a.comment&&(u=a.comment);else if(s.isPair(a)){const e=s.isNode(a.key)?a.key:null;e&&(!m&&e.spaceBefore&&g.push(""),c(n,g,e.commentBefore,m))}m=!1;let h=r.stringify(a,f,()=>u=null,()=>m=!0);u&&(h+=o.lineComment(h,l,d(u))),m&&u&&(m=!1),g.push(i+h)}let y;if(0===g.length)y=a.start+a.end;else{y=g[0];for(let e=1;e<g.length;++e){const t=g[e];y+=t?`\n${p}${t}`:"\n"}}return e?(y+="\n"+o.indentComment(d(e),p),h&&h()):m&&u&&u(),y}function a({items:e},t,{flowChars:n,itemIndent:i}){const{indent:a,indentStep:l,flowCollectionPadding:u,options:{commentString:h}}=t;i+=l;const p=Object.assign({},t,{indent:i,inFlow:!0,type:null});let d=!1,f=0;const m=[];for(let n=0;n<e.length;++n){const a=e[n];let l=null;if(s.isNode(a))a.spaceBefore&&m.push(""),c(t,m,a.commentBefore,!1),a.comment&&(l=a.comment);else if(s.isPair(a)){const e=s.isNode(a.key)?a.key:null;e&&(e.spaceBefore&&m.push(""),c(t,m,e.commentBefore,!1),e.comment&&(d=!0));const n=s.isNode(a.value)?a.value:null;n?(n.comment&&(l=n.comment),n.commentBefore&&(d=!0)):null==a.value&&e?.comment&&(l=e.comment)}l&&(d=!0);let u=r.stringify(a,p,()=>l=null);n<e.length-1&&(u+=","),l&&(u+=o.lineComment(u,i,h(l))),!d&&(m.length>f||u.includes("\n"))&&(d=!0),m.push(u),f=m.length}const{start:g,end:y}=n;if(0===m.length)return g+y;if(!d){const e=m.reduce((e,t)=>e+t.length+2,2);d=t.options.lineWidth>0&&e>t.options.lineWidth}if(d){let e=g;for(const t of m)e+=t?`\n${l}${a}${t}`:"\n";return`${e}\n${a}${y}`}return`${g}${u}${m.join(" ")}${u}${y}`}function c({indent:e,options:{commentString:t}},n,s,r){if(s&&r&&(s=s.replace(/^\n+/,"")),s){const r=o.indentComment(t(s),e);n.push(r.trimStart())}}t.stringifyCollection=function(e,t,n){return(t.inFlow??e.flow?a:i)(e,t,n)}},181(e){e.exports=require("buffer")},247(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.parseSpec=function(e,t){const n=c(t);try{if("yaml"===n||"yml"===n||"json"===n){const t="json"===n?JSON.parse(e):a.parse(e);if(function(e){return Boolean(e.openapi||e.swagger)}(t))return function(e){const t=e.info||{},n=e.paths||{},s=e.components||{},r=e.definitions||{},o=[],i=[],a=[];for(const[e,t]of Object.entries(n)){const n=t;for(const[t,s]of Object.entries(n))if(["get","post","put","delete","patch","options","head"].includes(t)){const n=s;o.push(l(e,t,n))}}const c=s.schemas||r;for(const[e,t]of Object.entries(c||{}))i.push(h(e,t));const u=s.securitySchemes||e.securityDefinitions;for(const[e,t]of Object.entries(u||{})){const n=t;a.push({name:e,type:String(n.type||"unknown"),description:n.description})}return{name:String(t.title||"Untitled API"),version:String(t.version||"1.0.0"),type:"openapi",endpoints:o,schemas:i,security:a,raw:e}}(t);if(function(e){return Boolean(e.asyncapi)}(t))return function(e){const t=e.info||{},n=e.channels||{},s=e.components||{},r=[],o=[];for(const[e,t]of Object.entries(n)){const n=t;if(n.subscribe){const t=n.subscribe;r.push({id:`SUB-${e}`,path:e,method:"SUBSCRIBE",operationId:t.operationId,summary:t.summary,description:t.description,parameters:[],responses:[],deprecated:Boolean(t.deprecated),tags:t.tags||[]})}if(n.publish){const t=n.publish;r.push({id:`PUB-${e}`,path:e,method:"PUBLISH",operationId:t.operationId,summary:t.summary,description:t.description,parameters:[],responses:[],deprecated:Boolean(t.deprecated),tags:t.tags||[]})}}const i=s.schemas||{};for(const[e,t]of Object.entries(i))o.push(h(e,t));return{name:String(t.title||"Untitled AsyncAPI"),version:String(t.version||"1.0.0"),type:"asyncapi",endpoints:r,schemas:o,security:[],raw:e}}(t);throw new Error("Unknown YAML/JSON spec format")}if("graphql"===n||"gql"===n)return function(e){const t=[],n=[],s=/type\s+(\w+)\s*(?:implements\s+\w+)?\s*\{([^}]+)\}/g;let r;for(;null!==(r=s.exec(e));){const[,e,s]=r;if(["Query","Mutation","Subscription"].includes(e)){const n=/(\w+)(?:\([^)]*\))?\s*:\s*(\[?\w+!?\]?!?)/g;let r;for(;null!==(r=n.exec(s));){const[,n,s]=r;t.push({id:`${e}-${n}`,path:n,method:e.toUpperCase(),operationId:n,parameters:[],responses:[{statusCode:"200",description:s}],deprecated:!1,tags:[e]})}}else{const t=[],r=/(\w+)\s*:\s*(\[?\w+!?\]?!?)/g;let o;for(;null!==(o=r.exec(s));){const[,e,n]=o;t.push({name:e,type:n,required:n.endsWith("!")})}n.push({name:e,type:"object",properties:t,required:t.filter(e=>e.required).map(e=>e.name)})}}return{name:"GraphQL Schema",version:"1.0.0",type:"graphql",endpoints:t,schemas:n,security:[],raw:e}}(e);if("proto"===n)return function(e){const t=[],n=[],s=/service\s+(\w+)\s*\{([^}]+)\}/g;let r;for(;null!==(r=s.exec(e));){const[,e,n]=r,s=/rpc\s+(\w+)\s*\((\w+)\)\s*returns\s*\((\w+)\)/g;let o;for(;null!==(o=s.exec(n));){const[,n,s,r]=o;t.push({id:`${e}-${n}`,path:`/${e}/${n}`,method:"RPC",operationId:n,parameters:[{name:"request",location:"body",type:s,required:!0}],responses:[{statusCode:"200",description:r}],deprecated:!1,tags:[e]})}}const o=/message\s+(\w+)\s*\{([^}]+)\}/g;let i;for(;null!==(i=o.exec(e));){const[,e,t]=i,s=[],r=/(?:optional|required|repeated)?\s*(\w+)\s+(\w+)\s*=\s*\d+/g;let o;for(;null!==(o=r.exec(t));){const[e,t,n]=o;s.push({name:n,type:t,required:e.includes("required")})}n.push({name:e,type:"message",properties:s,required:s.filter(e=>e.required).map(e=>e.name)})}return{name:"Protocol Buffer Service",version:"1.0.0",type:"grpc",endpoints:t,schemas:n,security:[],raw:e}}(e);throw new Error(`Unsupported spec format: ${n}`)}catch(e){const n=e instanceof Error?e.message:String(e);throw new Error(`Failed to parse spec file '${t}': ${n}`)}},t.detectSpecType=function(e,t){const n=c(t);if("graphql"===n||"gql"===n)return"graphql";if("proto"===n)return"grpc";try{const t="json"===n?JSON.parse(e):a.parse(e);if(t.openapi||t.swagger)return"openapi";if(t.asyncapi)return"asyncapi"}catch{}return"unknown"};const a=i(n(1198));function c(e){const t=e.split(".");return t.length>1?t[t.length-1].toLowerCase():""}function l(e,t,n){const s=[],r=[],o=n.parameters||[];for(const e of o)s.push(u(e));let i;if(n.requestBody){const e=n.requestBody,t=e.content||{};i={contentTypes:Object.keys(t),required:Boolean(e.required),description:e.description,schema:p(t)}}const a=n.responses||{};for(const[e,t]of Object.entries(a)){const n=t,s=n.content||{};r.push({statusCode:e,description:String(n.description||""),contentType:Object.keys(s)[0],schema:p(s)})}return{id:`${t.toUpperCase()}-${e}`,path:e,method:t.toUpperCase(),operationId:n.operationId,summary:n.summary,description:n.description,parameters:s,requestBody:i,responses:r,deprecated:Boolean(n.deprecated),tags:n.tags||[]}}function u(e){const t=e.schema||{};return{name:String(e.name||""),location:e.in,type:String(t.type||e.type||"string"),required:Boolean(e.required),description:e.description,defaultValue:t.default??e.default,schema:t.$ref||void 0}}function h(e,t){const n=[],s=t.properties||{},r=t.required||[];for(const[e,t]of Object.entries(s)){const s=t;n.push({name:e,type:String(s.type||"any"),required:r.includes(e),description:s.description,format:s.format,enum:s.enum})}return{name:e,type:String(t.type||"object"),properties:n,required:r,description:t.description}}function p(e){for(const t of Object.values(e)){const e=t.schema;if(e?.$ref)return String(e.$ref)}}},248(e,t){function n(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}t.indentComment=n,t.lineComment=(e,t,s)=>e.endsWith("\n")?n(s,t):s.includes("\n")?"\n"+n(s,t):(e.endsWith(" ")?"":" ")+s,t.stringifyComment=e=>e.replace(/^(?!$)(?: $)?/gm,"#")},483(e,t,n){var s=n(6010),r=n(1386),o=n(8644);t.resolveBlockSeq=function({composeNode:e,composeEmptyNode:t},n,i,a,c){const l=new(c?.nodeClass??s.YAMLSeq)(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let u=i.offset,h=null;for(const{start:s,value:c}of i.items){const p=r.resolveProps(s,{indicator:"seq-item-ind",next:c,offset:u,onError:a,parentIndent:i.indent,startOnNewline:!0});if(!p.found){if(!(p.anchor||p.tag||c)){h=p.end,p.comment&&(l.comment=p.comment);continue}"block-seq"===c?.type?a(p.end,"BAD_INDENT","All sequence items must start at the same column"):a(u,"MISSING_CHAR","Sequence item without - indicator")}const d=c?e(n,c,p,a):t(n,p.end,s,null,p,a);n.schema.compat&&o.flowIndentCheck(i.indent,c,a),u=d.range[2],l.items.push(d)}return l.range=[i.offset,u,h??u],l}},484(e,t){const n=Symbol.for("yaml.alias"),s=Symbol.for("yaml.document"),r=Symbol.for("yaml.map"),o=Symbol.for("yaml.pair"),i=Symbol.for("yaml.scalar"),a=Symbol.for("yaml.seq"),c=Symbol.for("yaml.node.type"),l=e=>!!e&&"object"==typeof e&&e[c]===i;function u(e){if(e&&"object"==typeof e)switch(e[c]){case r:case a:return!0}return!1}t.ALIAS=n,t.DOC=s,t.MAP=r,t.NODE_TYPE=c,t.PAIR=o,t.SCALAR=i,t.SEQ=a,t.hasAnchor=e=>(l(e)||u(e))&&!!e.anchor,t.isAlias=e=>!!e&&"object"==typeof e&&e[c]===n,t.isCollection=u,t.isDocument=e=>!!e&&"object"==typeof e&&e[c]===s,t.isMap=e=>!!e&&"object"==typeof e&&e[c]===r,t.isNode=function(e){if(e&&"object"==typeof e)switch(e[c]){case n:case r:case i:case a:return!0}return!1},t.isPair=e=>!!e&&"object"==typeof e&&e[c]===o,t.isScalar=l,t.isSeq=e=>!!e&&"object"==typeof e&&e[c]===a},591(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.CodeActionProvider=void 0;const a=i(n(1398));class c{diagnosticCollection;static providedCodeActionKinds=[a.CodeActionKind.QuickFix,a.CodeActionKind.Refactor];constructor(e){this.diagnosticCollection=e}provideCodeActions(e,t,n,s){const r=[];for(const t of n.diagnostics)if("Changelog Hub"===t.source)switch(t.code){case"deprecated-endpoint":r.push(this.createDeprecationAction(e,t));break;case"missing-description":r.push(this.createAddDescriptionAction(e,t));break;case"missing-responses":r.push(this.createAddResponseAction(e,t));break;case"empty-schema":r.push(this.createAddPropertiesAction(e,t))}if(this.isApiSpecFile(e)){const t=new a.CodeAction("Compare with Git ref...",a.CodeActionKind.Empty);t.command={command:"changelogHub.compareWithGit",title:"Compare with Git ref",arguments:[e.uri]},r.push(t);const n=new a.CodeAction("Analyze API specification",a.CodeActionKind.Empty);n.command={command:"changelogHub.analyze",title:"Analyze API specification",arguments:[e.uri]},r.push(n)}return r}createDeprecationAction(e,t){const n=new a.CodeAction("Remove deprecated marker",a.CodeActionKind.QuickFix);n.diagnostics=[t],n.isPreferred=!1;const s=e.getText().match(/deprecated:\s*true/i);if(s&&void 0!==s.index){const t=e.positionAt(s.index),r=e.positionAt(s.index+s[0].length);n.edit=new a.WorkspaceEdit,n.edit.delete(e.uri,new a.Range(t,r))}return n}createAddDescriptionAction(e,t){const n=new a.CodeAction("Add description",a.CodeActionKind.QuickFix);n.diagnostics=[t],n.isPreferred=!0;const s=t.range.start.line,r=e.lineAt(s).text,o=r.match(/^\s*/)?.[0]||"";return n.edit=new a.WorkspaceEdit,n.edit.insert(e.uri,new a.Position(s+1,0),`${o}  description: "TODO: Add description"\n`),n}createAddResponseAction(e,t){const n=new a.CodeAction("Add response definitions",a.CodeActionKind.QuickFix);n.diagnostics=[t];const s=t.range.start.line,r=e.lineAt(s).text,o=r.match(/^\s*/)?.[0]||"",i=`${o}  responses:\n${o}    '200':\n${o}      description: Successful response\n${o}      content:\n${o}        application/json:\n${o}          schema:\n${o}            type: object\n`;return n.edit=new a.WorkspaceEdit,n.edit.insert(e.uri,new a.Position(s+1,0),i),n}createAddPropertiesAction(e,t){const n=new a.CodeAction("Add properties template",a.CodeActionKind.QuickFix);n.diagnostics=[t];const s=t.range.start.line,r=e.lineAt(s).text,o=r.match(/^\s*/)?.[0]||"",i=`${o}  properties:\n${o}    id:\n${o}      type: string\n${o}      description: Unique identifier\n${o}    name:\n${o}      type: string\n${o}      description: Name\n`;n.edit=new a.WorkspaceEdit;let c=s+1;for(let t=s+1;t<e.lineCount;t++){const s=e.lineAt(t).text;if(s.trim().startsWith("properties:"))return n;if(!s.startsWith(o+" ")&&""!==s.trim()){c=t;break}}return n.edit.insert(e.uri,new a.Position(c,0),i),n}isApiSpecFile(e){const t=e.fileName.split(".").pop()?.toLowerCase();return["yaml","yml","json","graphql","gql","proto"].includes(t||"")}}t.CodeActionProvider=c},625(e,t,n){var s=n(484),r=n(3334),o=n(1919),i=n(8531),a=n(975);const c=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class l{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:l,schema:u,sortMapEntries:h,toStringDefaults:p}){this.compat=Array.isArray(e)?a.getTags(e,"compat"):e?a.getTags(null,e):null,this.name="string"==typeof u&&u||"core",this.knownTags=l?a.coreKnownTags:{},this.tags=a.getTags(t,this.name,n),this.toStringOptions=p??null,Object.defineProperty(this,s.MAP,{value:r.map}),Object.defineProperty(this,s.SCALAR,{value:i.string}),Object.defineProperty(this,s.SEQ,{value:o.seq}),this.sortMapEntries="function"==typeof h?h:!0===h?c:null}clone(){const e=Object.create(l.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}t.Schema=l},692(e,t,n){var s=n(484),r=n(3732),o=n(1755),i=n(6010),a=n(8416);class c extends i.YAMLSeq{constructor(){super(),this.add=o.YAMLMap.prototype.add.bind(this),this.delete=o.YAMLMap.prototype.delete.bind(this),this.get=o.YAMLMap.prototype.get.bind(this),this.has=o.YAMLMap.prototype.has.bind(this),this.set=o.YAMLMap.prototype.set.bind(this),this.tag=c.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t?.onCreate&&t.onCreate(n);for(const e of this.items){let o,i;if(s.isPair(e)?(o=r.toJS(e.key,"",t),i=r.toJS(e.value,o,t)):o=r.toJS(e,"",t),n.has(o))throw new Error("Ordered maps must not include duplicate keys");n.set(o,i)}return n}static from(e,t,n){const s=a.createPairs(e,t,n),r=new this;return r.items=s.items,r}}c.tag="tag:yaml.org,2002:omap";const l={collection:"seq",identify:e=>e instanceof Map,nodeClass:c,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=a.resolvePairs(e,t),r=[];for(const{key:e}of n.items)s.isScalar(e)&&(r.includes(e.value)?t(`Ordered maps must not include duplicate keys: ${e.value}`):r.push(e.value));return Object.assign(new c,n)},createNode:(e,t,n)=>c.from(e,t,n)};t.YAMLOMap=c,t.omap=l},703(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.analyzeCommand=async function(e){try{let t=e;if(!t){const e=a.window.activeTextEditor;if(e)t=e.document.uri;else{const e=await a.window.showOpenDialog({canSelectMany:!1,openLabel:"Select API Spec to Analyze",filters:{"API Specs":["yaml","yml","json","graphql","gql","proto"]}});if(!e||0===e.length)return;t=e[0]}}await a.window.withProgress({location:a.ProgressLocation.Notification,title:"Analyzing API specification...",cancellable:!1},async e=>{e.report({increment:30});const n=(await a.workspace.fs.readFile(t)).toString();e.report({increment:40,message:"Parsing..."});const s=(0,c.parseSpec)(n,t.fsPath);e.report({increment:30}),await async function(e,t){const n=[];if(n.push("# API Specification Analysis"),n.push(""),n.push(`**File:** ${t.fsPath.split("/").pop()}`),n.push(""),n.push("## Overview"),n.push(""),n.push("| Property | Value |"),n.push("|----------|-------|"),n.push(`| Name | ${e.name} |`),n.push(`| Version | ${e.version} |`),n.push(`| Type | ${e.type.toUpperCase()} |`),n.push(`| Endpoints | ${e.endpoints.length} |`),n.push(`| Schemas | ${e.schemas.length} |`),n.push(`| Security Schemes | ${e.security.length} |`),n.push(""),e.endpoints.length>0){n.push("## Endpoints"),n.push(""),n.push("| Method | Path | Summary | Deprecated |"),n.push("|--------|------|---------|------------|");for(const t of e.endpoints){const e=t.deprecated?"⚠️ Yes":"No",s=t.summary||t.description||"-";n.push(`| ${t.method} | \`${t.path}\` | ${s.substring(0,50)} | ${e} |`)}n.push("")}if(e.schemas.length>0){n.push("## Schemas"),n.push("");for(const t of e.schemas){n.push(`### ${t.name}`),n.push(""),t.description&&(n.push(`${t.description}`),n.push("")),n.push("| Property | Type | Required |"),n.push("|----------|------|----------|");for(const e of t.properties){const t=e.required?"✓":"";n.push(`| ${e.name} | ${e.type} | ${t} |`)}n.push("")}}if(e.security.length>0){n.push("## Security Schemes"),n.push(""),n.push("| Name | Type | Description |"),n.push("|------|------|-------------|");for(const t of e.security){const e=t.description||"-";n.push(`| ${t.name} | ${t.type} | ${e.substring(0,50)} |`)}n.push("")}n.push("## Statistics"),n.push("");const s=e.endpoints.filter(e=>e.deprecated).length,r=e.endpoints.reduce((e,t)=>e+t.parameters.length,0),o=e.endpoints.reduce((e,t)=>e+t.parameters.filter(e=>e.required).length,0);n.push(`- **Deprecated endpoints:** ${s}`),n.push(`- **Total parameters:** ${r}`),n.push(`- **Required parameters:** ${o}`),n.push(`- **Total schema properties:** ${e.schemas.reduce((e,t)=>e+t.properties.length,0)}`),n.push(""),n.push("---"),n.push(`*Analyzed at ${(new Date).toISOString()} by Changelog Hub*`);const i=await a.workspace.openTextDocument({content:n.join("\n"),language:"markdown"});await a.window.showTextDocument(i,{preview:!0,viewColumn:a.ViewColumn.Beside})}(s,t)})}catch(e){e instanceof Error&&(l.Logger.error(`Analyze failed: ${e.message}`),a.window.showErrorMessage(`Changelog Hub: ${e.message}`))}};const a=i(n(1398)),c=n(247),l=n(5628)},932(e){e.exports=require("process")},975(e,t,n){var s=n(3334),r=n(6055),o=n(1919),i=n(8531),a=n(5132),c=n(988),l=n(2891),u=n(8523),h=n(4988),p=n(8080),d=n(9637),f=n(692),m=n(8416),g=n(5822),y=n(2557),b=n(5437);const w=new Map([["core",u.schema],["failsafe",[s.map,o.seq,i.string]],["json",h.schema],["yaml11",g.schema],["yaml-1.1",g.schema]]),v={binary:p.binary,bool:a.boolTag,float:c.float,floatExp:c.floatExp,floatNaN:c.floatNaN,floatTime:b.floatTime,int:l.int,intHex:l.intHex,intOct:l.intOct,intTime:b.intTime,map:s.map,merge:d.merge,null:r.nullTag,omap:f.omap,pairs:m.pairs,seq:o.seq,set:y.set,timestamp:b.timestamp},S={"tag:yaml.org,2002:binary":p.binary,"tag:yaml.org,2002:merge":d.merge,"tag:yaml.org,2002:omap":f.omap,"tag:yaml.org,2002:pairs":m.pairs,"tag:yaml.org,2002:set":y.set,"tag:yaml.org,2002:timestamp":b.timestamp};t.coreKnownTags=S,t.getTags=function(e,t,n){const s=w.get(t);if(s&&!e)return n&&!s.includes(d.merge)?s.concat(d.merge):s.slice();let r=s;if(!r){if(!Array.isArray(e)){const e=Array.from(w.keys()).filter(e=>"yaml11"!==e).map(e=>JSON.stringify(e)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}r=[]}if(Array.isArray(e))for(const t of e)r=r.concat(t);else"function"==typeof e&&(r=e(r.slice()));return n&&(r=r.concat(d.merge)),r.reduce((e,t)=>{const n="string"==typeof t?v[t]:t;if(!n){const e=JSON.stringify(t),n=Object.keys(v).map(e=>JSON.stringify(e)).join(", ");throw new Error(`Unknown custom tag ${e}; use one of ${n}`)}return e.includes(n)||e.push(n),e},[])}},988(e,t,n){var s=n(9714),r=n(3144);const o={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:r.stringifyNumber},i={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():r.stringifyNumber(e)}},a={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new s.Scalar(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:r.stringifyNumber};t.float=a,t.floatExp=i,t.floatNaN=o},1040(e,t){t.emptyScalarPosition=function(e,t,n){if(t){n??(n=t.length);for(let s=n-1;s>=0;--s){let n=t[s];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++s];"space"===n?.type;)e+=n.source.length,n=t[++s];break}}return e}},1198(e,t,n){var s=n(4927),r=n(9046),o=n(625),i=n(4355),a=n(1736),c=n(484),l=n(7902),u=n(9714),h=n(1755),p=n(6010),d=n(9112),f=n(5752),m=n(2864),g=n(6247),y=n(1332),b=n(9125);t.Composer=s.Composer,t.Document=r.Document,t.Schema=o.Schema,t.YAMLError=i.YAMLError,t.YAMLParseError=i.YAMLParseError,t.YAMLWarning=i.YAMLWarning,t.Alias=a.Alias,t.isAlias=c.isAlias,t.isCollection=c.isCollection,t.isDocument=c.isDocument,t.isMap=c.isMap,t.isNode=c.isNode,t.isPair=c.isPair,t.isScalar=c.isScalar,t.isSeq=c.isSeq,t.Pair=l.Pair,t.Scalar=u.Scalar,t.YAMLMap=h.YAMLMap,t.YAMLSeq=p.YAMLSeq,t.CST=d,t.Lexer=f.Lexer,t.LineCounter=m.LineCounter,t.Parser=g.Parser,t.parse=y.parse,t.parseAllDocuments=y.parseAllDocuments,t.parseDocument=y.parseDocument,t.stringify=y.stringify,t.visit=b.visit,t.visitAsync=b.visitAsync},1332(e,t,n){var s=n(4927),r=n(9046),o=n(4355),i=n(7444),a=n(484),c=n(2864),l=n(6247);function u(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new c.LineCounter||null,prettyErrors:t}}function h(e,t={}){const{lineCounter:n,prettyErrors:r}=u(t),i=new l.Parser(n?.addNewLine),a=new s.Composer(t);let c=null;for(const t of a.compose(i.parse(e),!0,e.length))if(c){if("silent"!==c.options.logLevel){c.errors.push(new o.YAMLParseError(t.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else c=t;return r&&n&&(c.errors.forEach(o.prettifyError(e,n)),c.warnings.forEach(o.prettifyError(e,n))),c}t.parse=function(e,t,n){let s;"function"==typeof t?s=t:void 0===n&&t&&"object"==typeof t&&(n=t);const r=h(e,n);if(!r)return null;if(r.warnings.forEach(e=>i.warn(r.options.logLevel,e)),r.errors.length>0){if("silent"!==r.options.logLevel)throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:s},n))},t.parseAllDocuments=function(e,t={}){const{lineCounter:n,prettyErrors:r}=u(t),i=new l.Parser(n?.addNewLine),a=new s.Composer(t),c=Array.from(a.compose(i.parse(e)));if(r&&n)for(const t of c)t.errors.forEach(o.prettifyError(e,n)),t.warnings.forEach(o.prettifyError(e,n));return c.length>0?c:Object.assign([],{empty:!0},a.streamInfo())},t.parseDocument=h,t.stringify=function(e,t,n){let s=null;if("function"==typeof t||Array.isArray(t)?s=t:void 0===n&&t&&(n=t),"string"==typeof n&&(n=n.length),"number"==typeof n){const e=Math.round(n);n=e<1?void 0:e>8?{indent:8}:{indent:e}}if(void 0===e){const{keepUndefined:e}=n??t??{};if(!e)return}return a.isDocument(e)&&!s?e.toString(n):new r.Document(e,s,n).toString(n)}},1386(e,t){t.resolveProps=function(e,{flow:t,indicator:n,next:s,offset:r,onError:o,parentIndent:i,startOnNewline:a}){let c=!1,l=a,u=a,h="",p="",d=!1,f=!1,m=null,g=null,y=null,b=null,w=null,v=null,S=null;for(const r of e)switch(f&&("space"!==r.type&&"newline"!==r.type&&"comma"!==r.type&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),f=!1),m&&(l&&"comment"!==r.type&&"newline"!==r.type&&o(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),r.type){case"space":t||"doc-start"===n&&"flow-collection"===s?.type||!r.source.includes("\t")||(m=r),u=!0;break;case"comment":{u||o(r,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=r.source.substring(1)||" ";h?h+=p+e:h=e,p="",l=!1;break}case"newline":l?h?h+=r.source:v&&"seq-item-ind"===n||(c=!0):p+=r.source,l=!0,d=!0,(g||y)&&(b=r),u=!0;break;case"anchor":g&&o(r,"MULTIPLE_ANCHORS","A node can have at most one anchor"),r.source.endsWith(":")&&o(r.offset+r.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=r,S??(S=r.offset),l=!1,u=!1,f=!0;break;case"tag":y&&o(r,"MULTIPLE_TAGS","A node can have at most one tag"),y=r,S??(S=r.offset),l=!1,u=!1,f=!0;break;case n:(g||y)&&o(r,"BAD_PROP_ORDER",`Anchors and tags must be after the ${r.source} indicator`),v&&o(r,"UNEXPECTED_TOKEN",`Unexpected ${r.source} in ${t??"collection"}`),v=r,l="seq-item-ind"===n||"explicit-key-ind"===n,u=!1;break;case"comma":if(t){w&&o(r,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),w=r,l=!1,u=!1;break}default:o(r,"UNEXPECTED_TOKEN",`Unexpected ${r.type} token`),l=!1,u=!1}const k=e[e.length-1],O=k?k.offset+k.source.length:r;return f&&s&&"space"!==s.type&&"newline"!==s.type&&"comma"!==s.type&&("scalar"!==s.type||""!==s.source)&&o(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(l&&m.indent<=i||"block-map"===s?.type||"block-seq"===s?.type)&&o(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:w,found:v,spaceBefore:c,comment:h,hasNewline:d,anchor:g,tag:y,newlineAfterProp:b,end:O,start:S??O}}},1398(e){e.exports=require("vscode")},1614(e,t,n){var s=n(5219),r=n(484),o=n(8898);function i(e,t,n){let r=n;for(let e=t.length-1;e>=0;--e){const n=t[e];if("number"==typeof n&&Number.isInteger(n)&&n>=0){const e=[];e[n]=r,r=e}else r=new Map([[n,r]])}return s.createNode(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const a=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class c extends o.NodeBase{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(t=>r.isNode(t)||r.isPair(t)?t.clone(e):t),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(a(e))this.add(t);else{const[n,...s]=e,o=this.get(n,!0);if(r.isCollection(o))o.addIn(s,t);else{if(void 0!==o||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,i(this.schema,s,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const s=this.get(t,!0);if(r.isCollection(s))return s.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...s]=e,o=this.get(n,!0);return 0===s.length?!t&&r.isScalar(o)?o.value:o:r.isCollection(o)?o.getIn(s,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!r.isPair(t))return!1;const n=t.value;return null==n||e&&r.isScalar(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const s=this.get(t,!0);return!!r.isCollection(s)&&s.hasIn(n)}setIn(e,t){const[n,...s]=e;if(0===s.length)this.set(n,t);else{const e=this.get(n,!0);if(r.isCollection(e))e.setIn(s,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,i(this.schema,s,t))}}}}t.Collection=c,t.collectionFromPath=i,t.isEmptyPath=a},1736(e,t,n){var s=n(6261),r=n(9125),o=n(484),i=n(8898),a=n(3732);class c extends i.NodeBase{constructor(e){super(o.ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,t){let n,s;t?.aliasResolveCache?n=t.aliasResolveCache:(n=[],r.visit(e,{Node:(e,t)=>{(o.isAlias(t)||o.hasAnchor(t))&&n.push(t)}}),t&&(t.aliasResolveCache=n));for(const e of n){if(e===this)break;e.anchor===this.source&&(s=e)}return s}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:s,maxAliasCount:r}=t,o=this.resolve(s,t);if(!o){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}let i=n.get(o);if(i||(a.toJS(o,null,t),i=n.get(o)),void 0===i?.res)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(r>=0&&(i.count+=1,0===i.aliasCount&&(i.aliasCount=l(s,o,n)),i.count*i.aliasCount>r))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return i.res}toString(e,t,n){const r=`*${this.source}`;if(e){if(s.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${r} `}return r}}function l(e,t,n){if(o.isAlias(t)){const s=t.resolve(e),r=n&&s&&n.get(s);return r?r.count*r.aliasCount:0}if(o.isCollection(t)){let s=0;for(const r of t.items){const t=l(e,r,n);t>s&&(s=t)}return s}if(o.isPair(t)){const s=l(e,t.key,n),r=l(e,t.value,n);return Math.max(s,r)}return 1}t.Alias=c},1755(e,t,n){var s=n(81),r=n(5139),o=n(1614),i=n(484),a=n(7902),c=n(9714);function l(e,t){const n=i.isScalar(t)?t.value:t;for(const s of e)if(i.isPair(s)){if(s.key===t||s.key===n)return s;if(i.isScalar(s.key)&&s.key.value===n)return s}}class u extends o.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(i.MAP,e),this.items=[]}static from(e,t,n){const{keepUndefined:s,replacer:r}=n,o=new this(e),i=(e,i)=>{if("function"==typeof r)i=r.call(t,e,i);else if(Array.isArray(r)&&!r.includes(e))return;(void 0!==i||s)&&o.items.push(a.createPair(e,i,n))};if(t instanceof Map)for(const[e,n]of t)i(e,n);else if(t&&"object"==typeof t)for(const e of Object.keys(t))i(e,t[e]);return"function"==typeof e.sortMapEntries&&o.items.sort(e.sortMapEntries),o}add(e,t){let n;n=i.isPair(e)?e:e&&"object"==typeof e&&"key"in e?new a.Pair(e.key,e.value):new a.Pair(e,e?.value);const s=l(this.items,n.key),r=this.schema?.sortMapEntries;if(s){if(!t)throw new Error(`Key ${n.key} already set`);i.isScalar(s.value)&&c.isScalarValue(n.value)?s.value.value=n.value:s.value=n.value}else if(r){const e=this.items.findIndex(e=>r(n,e)<0);-1===e?this.items.push(n):this.items.splice(e,0,n)}else this.items.push(n)}delete(e){const t=l(this.items,e);return!!t&&this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=l(this.items,e),s=n?.value;return(!t&&i.isScalar(s)?s.value:s)??void 0}has(e){return!!l(this.items,e)}set(e,t){this.add(new a.Pair(e,t),!0)}toJSON(e,t,n){const s=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(s);for(const e of this.items)r.addPairToJSMap(t,s,e);return s}toString(e,t,n){if(!e)return JSON.stringify(this);for(const e of this.items)if(!i.isPair(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),s.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}t.YAMLMap=u,t.findPair=l},1768(e,t,n){var s=n(484),r=n(3793),o=n(248);t.stringifyDocument=function(e,t){const n=[];let i=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(n.push(t),i=!0):e.directives.docStart&&(i=!0)}i&&n.push("---");const a=r.createStringifyContext(e,t),{commentString:c}=a.options;if(e.commentBefore){1!==n.length&&n.unshift("");const t=c(e.commentBefore);n.unshift(o.indentComment(t,""))}let l=!1,u=null;if(e.contents){if(s.isNode(e.contents)){if(e.contents.spaceBefore&&i&&n.push(""),e.contents.commentBefore){const t=c(e.contents.commentBefore);n.push(o.indentComment(t,""))}a.forceBlockIndent=!!e.comment,u=e.contents.comment}const t=u?void 0:()=>l=!0;let h=r.stringify(e.contents,a,()=>u=null,t);u&&(h+=o.lineComment(h,"",c(u))),"|"!==h[0]&&">"!==h[0]||"---"!==n[n.length-1]?n.push(h):n[n.length-1]=`--- ${h}`}else n.push(r.stringify(e.contents,a));if(e.directives?.docEnd)if(e.comment){const t=c(e.comment);t.includes("\n")?(n.push("..."),n.push(o.indentComment(t,""))):n.push(`... ${t}`)}else n.push("...");else{let t=e.comment;t&&l&&(t=t.replace(/^\n+/,"")),t&&(l&&!u||""===n[n.length-1]||n.push(""),n.push(o.indentComment(c(t),"")))}return n.join("\n")+"\n"}},1919(e,t,n){var s=n(484),r=n(6010);const o={collection:"seq",default:!0,nodeClass:r.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(s.isSeq(e)||t("Expected a sequence for this tag"),e),createNode:(e,t,n)=>r.YAMLSeq.from(e,t,n)};t.seq=o},2206(e,t,n){var s=n(9046),r=n(2782),o=n(6845),i=n(1386);t.composeDoc=function(e,t,{offset:n,start:a,value:c,end:l},u){const h=Object.assign({_directives:t},e),p=new s.Document(void 0,h),d={atKey:!1,atRoot:!0,directives:p.directives,options:p.options,schema:p.schema},f=i.resolveProps(a,{indicator:"doc-start",next:c??l?.[0],offset:n,onError:u,parentIndent:0,startOnNewline:!0});f.found&&(p.directives.docStart=!0,!c||"block-map"!==c.type&&"block-seq"!==c.type||f.hasNewline||u(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),p.contents=c?r.composeNode(d,c,f,u):r.composeEmptyNode(d,f.end,a,null,f,u);const m=p.contents.range[2],g=o.resolveEnd(l,m,!1,u);return g.comment&&(p.comment=g.comment),p.range=[n,m,g.offset],p}},2291(e,t,n){var s=n(484),r=n(7902),o=n(1755),i=n(6010),a=n(6845),c=n(1386),l=n(9378),u=n(8334);const h="Block collections are not allowed within flow collections",p=e=>e&&("block-map"===e.type||"block-seq"===e.type);t.resolveFlowCollection=function({composeNode:e,composeEmptyNode:t},n,d,f,m){const g="{"===d.start.source,y=g?"flow map":"flow sequence",b=new(m?.nodeClass??(g?o.YAMLMap:i.YAMLSeq))(n.schema);b.flow=!0;const w=n.atRoot;w&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let v=d.offset+d.start.source.length;for(let i=0;i<d.items.length;++i){const a=d.items[i],{start:m,key:w,sep:S,value:k}=a,O=c.resolveProps(m,{flow:y,indicator:"explicit-key-ind",next:w??S?.[0],offset:v,onError:f,parentIndent:d.indent,startOnNewline:!1});if(!O.found){if(!(O.anchor||O.tag||S||k)){0===i&&O.comma?f(O.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${y}`):i<d.items.length-1&&f(O.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${y}`),O.comment&&(b.comment?b.comment+="\n"+O.comment:b.comment=O.comment),v=O.end;continue}!g&&n.options.strict&&l.containsNewline(w)&&f(w,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===i)O.comma&&f(O.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${y}`);else if(O.comma||f(O.start,"MISSING_CHAR",`Missing , between ${y} items`),O.comment){let e="";e:for(const t of m)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){let t=b.items[b.items.length-1];s.isPair(t)&&(t=t.value??t.key),t.comment?t.comment+="\n"+e:t.comment=e,O.comment=O.comment.substring(e.length+1)}}if(g||S||O.found){n.atKey=!0;const s=O.end,i=w?e(n,w,O,f):t(n,s,m,null,O,f);p(w)&&f(i.range,"BLOCK_IN_FLOW",h),n.atKey=!1;const l=c.resolveProps(S??[],{flow:y,indicator:"map-value-ind",next:k,offset:i.range[2],onError:f,parentIndent:d.indent,startOnNewline:!1});if(l.found){if(!g&&!O.found&&n.options.strict){if(S)for(const e of S){if(e===l.found)break;if("newline"===e.type){f(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}O.start<l.found.offset-1024&&f(l.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else k&&("source"in k&&":"===k.source?.[0]?f(k,"MISSING_CHAR",`Missing space after : in ${y}`):f(l.start,"MISSING_CHAR",`Missing , or : between ${y} items`));const A=k?e(n,k,l,f):l.found?t(n,l.end,S,null,l,f):null;A?p(k)&&f(A.range,"BLOCK_IN_FLOW",h):l.comment&&(i.comment?i.comment+="\n"+l.comment:i.comment=l.comment);const E=new r.Pair(i,A);if(n.options.keepSourceTokens&&(E.srcToken=a),g){const e=b;u.mapIncludes(n,e.items,i)&&f(s,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(E)}else{const e=new o.YAMLMap(n.schema);e.flow=!0,e.items.push(E);const t=(A??i).range;e.range=[i.range[0],t[1],t[2]],b.items.push(e)}v=A?A.range[2]:l.end}else{const s=k?e(n,k,O,f):t(n,O.end,S,null,O,f);b.items.push(s),v=s.range[2],p(k)&&f(s.range,"BLOCK_IN_FLOW",h)}}const S=g?"}":"]",[k,...O]=d.end;let A=v;if(k?.source===S)A=k.offset+k.source.length;else{const e=y[0].toUpperCase()+y.substring(1);f(v,w?"MISSING_CHAR":"BAD_INDENT",w?`${e} must end with a ${S}`:`${e} in block collection must be sufficiently indented and end with a ${S}`),k&&1!==k.source.length&&O.unshift(k)}if(O.length>0){const e=a.resolveEnd(O,A,n.options.strict,f);e.comment&&(b.comment?b.comment+="\n"+e.comment:b.comment=e.comment),b.range=[d.offset,A,e.offset]}else b.range=[d.offset,A,A];return b}},2422(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.compareWithGitCommand=async function(e,t,n){try{const s=a.window.activeTextEditor,r=e||s?.document.uri;if(!r)return void a.window.showErrorMessage("Changelog Hub: No API spec file selected");const o=(0,d.getConfig)(),i=[{label:o.baseRef,description:"Default branch"},{label:"HEAD~1",description:"Previous commit"},{label:"HEAD~5",description:"5 commits ago"},{label:"Custom...",description:"Enter a custom ref"}],p=await a.window.showQuickPick(i,{placeHolder:"Select Git ref to compare with"});if(!p)return;let f=p.label;if("Custom..."===f){const e=await a.window.showInputBox({prompt:"Enter Git ref to compare with (branch, tag, or commit)",placeHolder:"main, HEAD~1, v1.0.0, abc123"});if(!e)return;f=e}const m=a.workspace.getWorkspaceFolder(r);if(!m)return void a.window.showErrorMessage("Changelog Hub: File is not in a workspace");await a.window.withProgress({location:a.ProgressLocation.Notification,title:`Comparing with ${f}...`,cancellable:!1},async e=>{const s=a.workspace.asRelativePath(r);let i;e.report({increment:20,message:"Getting old version from Git..."});try{i=(0,c.execSync)(`git show ${f}:${s}`,{cwd:m.uri.fsPath,encoding:"utf-8"})}catch(e){throw new Error(`Could not get file from ${f}. Make sure the ref exists and the file was present.`)}e.report({increment:20,message:"Reading current version..."});const p=(await a.workspace.fs.readFile(r)).toString();e.report({increment:20,message:"Parsing specifications..."});const d=(0,l.parseSpec)(i,r.fsPath),g=(0,l.parseSpec)(p,r.fsPath);e.report({increment:20,message:"Comparing..."});const y=(0,u.compareSpecs)(d,g);e.report({increment:20}),t&&t.setBreakingChanges(y.breakingChanges),n&&n.setChanges(y.changes);const b=o.defaultFormat,w=(0,h.generateReport)(y,b),v=await a.workspace.openTextDocument({content:w,language:"json"===b?"json":"html"===b?"html":"markdown"});await a.window.showTextDocument(v,{preview:!0,viewColumn:a.ViewColumn.Beside});const S=y.breakingChanges.length;S>0?a.window.showWarningMessage(`Changelog Hub: ${S} breaking change(s) since ${f}. Risk: ${y.riskLevel}`):a.window.showInformationMessage(`Changelog Hub: No breaking changes since ${f}. ${y.changes.length} change(s) found.`)})}catch(e){e instanceof Error&&(p.Logger.error(`Git compare failed: ${e.message}`),a.window.showErrorMessage(`Changelog Hub: ${e.message}`))}};const a=i(n(1398)),c=n(5317),l=n(247),u=n(3260),h=n(8197),p=n(5628),d=n(2478)},2478(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.getConfig=c,t.updateConfig=async function(e,t,n=!1){const s=a.workspace.getConfiguration("changelogHub");await s.update(e,t,n)},t.getDefaultGitRef=function(){return c().baseRef},t.getSpecPatterns=function(){return c().specPatterns},t.isInlineWarningsEnabled=function(){return c().showInlineWarnings},t.getSeverityThreshold=function(){return c().severityThreshold};const a=i(n(1398));function c(){const e=a.workspace.getConfiguration("changelogHub");return{defaultFormat:e.get("defaultFormat","markdown"),autoDetectSpecs:e.get("autoDetectSpecs",!0),specPatterns:e.get("specPatterns",["**/openapi.yaml","**/swagger.yaml","**/api.yaml","**/*.graphql","**/*.proto"]),showInlineWarnings:e.get("showInlineWarnings",!0),baseRef:e.get("baseRef","main"),severityThreshold:e.get("severityThreshold","INFO")}}},2546(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.ApiExplorerProvider=void 0;const a=i(n(1398)),c=n(247),l=n(2478);t.ApiExplorerProvider=class{context;_onDidChangeTreeData=new a.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;apiSpecs=new Map;constructor(e){this.context=e,this.refresh()}refresh(){this.scanWorkspace().then(()=>{this._onDidChangeTreeData.fire(void 0)})}async scanWorkspace(){this.apiSpecs.clear();const e=(0,l.getSpecPatterns)();for(const t of e){const e=await a.workspace.findFiles(t,"**/node_modules/**");for(const t of e)try{const e=(await a.workspace.fs.readFile(t)).toString(),n=(0,c.parseSpec)(e,t.fsPath);this.apiSpecs.set(t.fsPath,n)}catch{}}}getTreeItem(e){return e}getChildren(e){if(!e){const e=[];for(const[t,n]of this.apiSpecs)e.push(new u(t,n));return Promise.resolve(e)}if(e instanceof u){const t=[];if(e.spec.endpoints.length>0)for(const n of e.spec.endpoints)t.push(new h(n,e.filePath));if(e.spec.schemas.length>0)for(const n of e.spec.schemas)t.push(new p(n,e.filePath));return Promise.resolve(t)}if(e instanceof p){const t=[];for(const n of e.schema.properties)t.push(new d(n.name,n.type,n.required));return Promise.resolve(t)}return Promise.resolve([])}};class u extends a.TreeItem{filePath;spec;constructor(e,t){super(t.name,a.TreeItemCollapsibleState.Expanded),this.filePath=e,this.spec=t,this.tooltip=`${t.name} v${t.version} (${t.type.toUpperCase()})`,this.description=`v${t.version} • ${t.endpoints.length} endpoints`,this.iconPath=new a.ThemeIcon("file-code"),this.contextValue="apiFile",this.command={command:"vscode.open",title:"Open File",arguments:[a.Uri.file(e)]}}}class h extends a.TreeItem{endpoint;filePath;constructor(e,t){super(`${e.method} ${e.path}`,a.TreeItemCollapsibleState.None),this.endpoint=e,this.filePath=t,this.tooltip=e.summary||e.description||e.path,this.description=e.deprecated?"⚠️ deprecated":"",this.iconPath=this.getMethodIcon(e.method),this.contextValue="endpoint",e.deprecated&&(this.iconPath=new a.ThemeIcon("warning",new a.ThemeColor("problemsWarningIcon.foreground")))}getMethodIcon(e){switch(e.toUpperCase()){case"GET":return new a.ThemeIcon("arrow-down",new a.ThemeColor("charts.blue"));case"POST":return new a.ThemeIcon("arrow-up",new a.ThemeColor("charts.green"));case"PUT":return new a.ThemeIcon("arrow-swap",new a.ThemeColor("charts.orange"));case"DELETE":return new a.ThemeIcon("trash",new a.ThemeColor("charts.red"));case"PATCH":return new a.ThemeIcon("edit",new a.ThemeColor("charts.purple"));default:return new a.ThemeIcon("symbol-method")}}}class p extends a.TreeItem{schema;filePath;constructor(e,t){super(e.name,e.properties.length>0?a.TreeItemCollapsibleState.Collapsed:a.TreeItemCollapsibleState.None),this.schema=e,this.filePath=t,this.tooltip=e.description||`Schema: ${e.name}`,this.description=`${e.properties.length} properties`,this.iconPath=new a.ThemeIcon("symbol-class"),this.contextValue="schema"}}class d extends a.TreeItem{name;type;required;constructor(e,t,n){super(e,a.TreeItemCollapsibleState.None),this.name=e,this.type=t,this.required=n,this.tooltip=`${e}: ${t}${n?" (required)":""}`,this.description=t,this.iconPath=new a.ThemeIcon(n?"symbol-key":"symbol-property"),this.contextValue="property"}}},2557(e,t,n){var s=n(484),r=n(7902),o=n(1755);class i extends o.YAMLMap{constructor(e){super(e),this.tag=i.tag}add(e){let t;t=s.isPair(e)?e:e&&"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new r.Pair(e.key,null):new r.Pair(e,null),o.findPair(this.items,t.key)||this.items.push(t)}get(e,t){const n=o.findPair(this.items,e);return!t&&s.isPair(n)?s.isScalar(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=o.findPair(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new r.Pair(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(e,t,n){const{replacer:s}=n,o=new this(e);if(t&&Symbol.iterator in Object(t))for(let e of t)"function"==typeof s&&(e=s.call(t,e,e)),o.items.push(r.createPair(e,null,n));return o}}i.tag="tag:yaml.org,2002:set";const a={collection:"map",identify:e=>e instanceof Set,nodeClass:i,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>i.from(e,t,n),resolve(e,t){if(s.isMap(e)){if(e.hasAllNullValues(!0))return Object.assign(new i,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};t.YAMLSet=i,t.set=a},2724(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.compareCommand=async function(e,t,n){try{const s=await a.window.showOpenDialog({canSelectMany:!1,openLabel:"Select OLD API Spec (base)",filters:{"API Specs":["yaml","yml","json","graphql","gql","proto"]}});if(!s||0===s.length)return;let r=e;if(!r){const e=a.window.activeTextEditor;if(e&&function(e){const t=e.fsPath.split(".").pop()?.toLowerCase();return["yaml","yml","json","graphql","gql","proto"].includes(t||"")}(e.document.uri)&&"Yes"===await a.window.showQuickPick(["Yes","No"],{placeHolder:`Use current file (${e.document.fileName.split("/").pop()}) as the new spec?`})&&(r=e.document.uri),!r){const e=await a.window.showOpenDialog({canSelectMany:!1,openLabel:"Select NEW API Spec (head)",filters:{"API Specs":["yaml","yml","json","graphql","gql","proto"]}});if(!e||0===e.length)return;r=e[0]}}await a.window.withProgress({location:a.ProgressLocation.Notification,title:"Comparing API specifications...",cancellable:!1},async e=>{e.report({increment:0});const o=(await a.workspace.fs.readFile(s[0])).toString(),i=(await a.workspace.fs.readFile(r)).toString();e.report({increment:30,message:"Parsing specifications..."});const h=(0,c.parseSpec)(o,s[0].fsPath),d=(0,c.parseSpec)(i,r.fsPath);e.report({increment:30,message:"Comparing..."});const f=(0,l.compareSpecs)(h,d);e.report({increment:30,message:"Generating report..."});const m=(0,p.getConfig)().defaultFormat,g=(0,u.generateReport)(f,m);e.report({increment:10}),t&&t.setBreakingChanges(f.breakingChanges),n&&n.setChanges(f.changes),await async function(e,t,n){const s=await a.workspace.openTextDocument({content:t,language:"json"===n?"json":"html"===n?"html":"markdown"});await a.window.showTextDocument(s,{preview:!0,viewColumn:a.ViewColumn.Beside});const r=e.breakingChanges.length;r>0?"View Details"===await a.window.showWarningMessage(`Changelog Hub: ${r} breaking change(s) detected! Risk: ${e.riskLevel}`,"View Details","Dismiss")&&a.commands.executeCommand("changelogHub.breakingChanges.focus"):a.window.showInformationMessage(`Changelog Hub: No breaking changes. ${e.changes.length} change(s) found. Recommended bump: ${e.semverRecommendation}`)}(f,g,m)})}catch(e){e instanceof Error&&(h.Logger.error(`Compare failed: ${e.message}`),a.window.showErrorMessage(`Changelog Hub: ${e.message}`))}};const a=i(n(1398)),c=n(247),l=n(3260),u=n(8197),h=n(5628),p=n(2478)},2782(e,t,n){var s=n(1736),r=n(484),o=n(18),i=n(9094),a=n(6845),c=n(1040);const l={composeNode:u,composeEmptyNode:h};function u(e,t,n,c){const u=e.atKey,{spaceBefore:p,comment:d,anchor:f,tag:m}=n;let g,y=!0;switch(t.type){case"alias":g=function({options:e},{offset:t,source:n,end:r},o){const i=new s.Alias(n.substring(1));""===i.source&&o(t,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&o(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const c=t+n.length,l=a.resolveEnd(r,c,e.strict,o);return i.range=[t,c,l.offset],l.comment&&(i.comment=l.comment),i}(e,t,c),(f||m)&&c(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":g=i.composeScalar(e,t,m,c),f&&(g.anchor=f.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":g=o.composeCollection(l,e,t,n,c),f&&(g.anchor=f.source.substring(1));break;default:c(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),g=h(e,t.offset,void 0,null,n,c),y=!1}return f&&""===g.anchor&&c(f,"BAD_ALIAS","Anchor cannot be an empty string"),u&&e.options.stringKeys&&(!r.isScalar(g)||"string"!=typeof g.value||g.tag&&"tag:yaml.org,2002:str"!==g.tag)&&c(m??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),p&&(g.spaceBefore=!0),d&&("scalar"===t.type&&""===t.source?g.comment=d:g.commentBefore=d),e.options.keepSourceTokens&&y&&(g.srcToken=t),g}function h(e,t,n,s,{spaceBefore:r,comment:o,anchor:a,tag:l,end:u},h){const p={type:"scalar",offset:c.emptyScalarPosition(t,n,s),indent:-1,source:""},d=i.composeScalar(e,p,l,h);return a&&(d.anchor=a.source.substring(1),""===d.anchor&&h(a,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(d.spaceBefore=!0),o&&(d.comment=o,d.range[2]=u),d}t.composeEmptyNode=h,t.composeNode=u},2864(e,t){t.LineCounter=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const s=t+n>>1;this.lineStarts[s]<e?t=s+1:n=s}return this.lineStarts[t]===e?{line:t+1,col:1}:0===t?{line:0,col:e}:{line:t,col:e-this.lineStarts[t-1]+1}}}}},2891(e,t,n){var s=n(3144);const r=e=>"bigint"==typeof e||Number.isInteger(e),o=(e,t,n,{intAsBigInt:s})=>s?BigInt(e):parseInt(e.substring(t),n);function i(e,t,n){const{value:o}=e;return r(o)&&o>=0?n+o.toString(t):s.stringifyNumber(e)}const a={identify:e=>r(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>o(e,2,8,n),stringify:e=>i(e,8,"0o")},c={identify:r,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>o(e,0,10,n),stringify:s.stringifyNumber},l={identify:e=>r(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>o(e,2,16,n),stringify:e=>i(e,16,"0x")};t.int=c,t.intHex=l,t.intOct=a},3144(e,t){t.stringifyNumber=function({format:e,minFractionDigits:t,tag:n,value:s}){if("bigint"==typeof s)return String(s);const r="number"==typeof s?s:Number(s);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let o=Object.is(s,-0)?"-0":JSON.stringify(s);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(o)){let e=o.indexOf(".");e<0&&(e=o.length,o+=".");let n=t-(o.length-e-1);for(;n-- >0;)o+="0"}return o}},3260(e,t){function n(e,t,n){const s=[],r=`${t.method} ${t.path}`;!e.deprecated&&t.deprecated&&(n.endpointsDeprecated++,s.push({type:"DEPRECATED",category:"ENDPOINT",severity:"WARNING",path:r,description:`Endpoint deprecated: ${r}`}));const o=new Map(e.parameters.map(e=>[e.name,e])),i=new Map(t.parameters.map(e=>[e.name,e]));for(const[e,t]of o)i.has(e)||(n.parametersRemoved++,s.push({type:"REMOVED",category:"PARAMETER",severity:t.required?"BREAKING":"WARNING",path:`${r} > ${e}`,description:`Parameter removed: ${e}`,oldValue:t}));for(const[e,t]of i)o.has(e)||(n.parametersAdded++,s.push({type:"ADDED",category:"PARAMETER",severity:t.required?"BREAKING":"INFO",path:`${r} > ${e}`,description:`New parameter: ${e} (${t.location})`,newValue:t}));for(const[e,t]of i){const i=o.get(e);i&&(i.type!==t.type&&(n.parametersModified++,s.push({type:"MODIFIED",category:"PARAMETER",severity:"BREAKING",path:`${r} > ${e}`,description:`Parameter type changed: ${e} (${i.type} → ${t.type})`,oldValue:i.type,newValue:t.type})),!i.required&&t.required&&(n.parametersModified++,s.push({type:"MODIFIED",category:"PARAMETER",severity:"BREAKING",path:`${r} > ${e}`,description:`Parameter now required: ${e}`,oldValue:!1,newValue:!0})))}return s}function s(e,t){const n=[],s=`#/schemas/${t.name}`,r=new Map(e.properties.map(e=>[e.name,e])),o=new Map(t.properties.map(e=>[e.name,e]));for(const[e,i]of r)o.has(e)||n.push({type:"REMOVED",category:"SCHEMA",severity:"BREAKING",path:`${s}/${e}`,description:`Property removed from ${t.name}: ${e}`,oldValue:i});for(const[e,i]of o)if(!r.has(e)){const r=t.required.includes(e);n.push({type:"ADDED",category:"SCHEMA",severity:r?"BREAKING":"INFO",path:`${s}/${e}`,description:`New property in schema: ${e}`,newValue:i})}for(const[i,a]of o){const o=r.get(i);if(o){o.type!==a.type&&n.push({type:"MODIFIED",category:"SCHEMA",severity:"BREAKING",path:`${s}/${i}`,description:`Property type changed in ${t.name}: ${i} (${o.type} → ${a.type})`,oldValue:o.type,newValue:a.type});const r=e.required.includes(i),c=t.required.includes(i);!r&&c&&n.push({type:"MODIFIED",category:"SCHEMA",severity:"BREAKING",path:`${s}/${i}`,description:`Property now required in ${t.name}: ${i}`,oldValue:!1,newValue:!0})}}return n}function r(e){return{type:e.type,category:e.category,path:e.path,description:e.description,migrationSuggestion:o(e),impactScore:i(e)}}function o(e){switch(e.type){case"REMOVED":return"ENDPOINT"===e.category?"Update client code to use an alternative endpoint or remove the call.":"PARAMETER"===e.category?"Remove the parameter from API calls.":"SCHEMA"===e.category?"Update data models to reflect the removed property.":"Update code to handle the removal.";case"MODIFIED":return"PARAMETER"===e.category?"Update the parameter type or ensure it is always provided.":"Update code to handle the new type or requirement.";default:return"Review the change and update code accordingly."}}function i(e){let t=0;return"ENDPOINT"===e.category?t+=40:"SCHEMA"===e.category?t+=30:"PARAMETER"===e.category?t+=20:"SECURITY"===e.category&&(t+=35),"REMOVED"===e.type?t+=30:"MODIFIED"===e.type&&(t+=20),Math.min(100,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.compareSpecs=function(e,t){const o=[],i=[],a={endpointsAdded:0,endpointsRemoved:0,endpointsModified:0,endpointsDeprecated:0,schemasAdded:0,schemasRemoved:0,schemasModified:0,parametersAdded:0,parametersRemoved:0,parametersModified:0},c=function(e,t,s){const r=[],o=new Map(e.map(e=>[e.id,e])),i=new Map(t.map(e=>[e.id,e]));for(const[e,t]of o)i.has(e)||(s.endpointsRemoved++,r.push({type:"REMOVED",category:"ENDPOINT",severity:"BREAKING",path:`${t.method} ${t.path}`,description:`Endpoint removed: ${t.method} ${t.path}`,oldValue:e}));for(const[e,t]of i)o.has(e)||(s.endpointsAdded++,r.push({type:"ADDED",category:"ENDPOINT",severity:"INFO",path:`${t.method} ${t.path}`,description:`New endpoint: ${t.method} ${t.path}`,newValue:e}));for(const[e,t]of i){const i=o.get(e);if(i){const e=n(i,t,s);e.length>0&&s.endpointsModified++,r.push(...e)}}return r}(e.endpoints,t.endpoints,a);o.push(...c);const l=function(e,t,n){const r=[],o=new Map(e.map(e=>[e.name,e])),i=new Map(t.map(e=>[e.name,e]));for(const[e]of o)i.has(e)||(n.schemasRemoved++,r.push({type:"REMOVED",category:"SCHEMA",severity:"BREAKING",path:`#/schemas/${e}`,description:`Schema removed: ${e}`,oldValue:e}));for(const[e]of i)o.has(e)||(n.schemasAdded++,r.push({type:"ADDED",category:"SCHEMA",severity:"INFO",path:`#/schemas/${e}`,description:`New schema: ${e}`,newValue:e}));for(const[e,t]of i){const i=o.get(e);if(i){const e=s(i,t);e.length>0&&n.schemasModified++,r.push(...e)}}return r}(e.schemas,t.schemas,a);o.push(...l);const u=function(e,t){const n=[],s=new Map(e.map(e=>[e.name,e])),r=new Map(t.map(e=>[e.name,e]));for(const[e]of s)r.has(e)||n.push({type:"REMOVED",category:"SECURITY",severity:"BREAKING",path:`#/security/${e}`,description:`Security scheme removed: ${e}`,oldValue:e});for(const[e]of r)s.has(e)||n.push({type:"ADDED",category:"SECURITY",severity:"WARNING",path:`#/security/${e}`,description:`New security scheme: ${e}`,newValue:e});return n}(e.security,t.security);o.push(...u);for(const e of o)"BREAKING"===e.severity&&i.push(r(e));const h=function(e){if(0===e.length)return 0;const t=e.reduce((e,t)=>e+t.impactScore,0)/e.length,n=Math.min(2,1+.1*e.length);return Math.min(100,Math.round(t*n))}(i),p=(f=h)>=75?"CRITICAL":f>=50?"HIGH":f>=25?"MEDIUM":"LOW",d=function(e,t){return e.length>0?"MAJOR":t.some(e=>"ADDED"===e.type)?"MINOR":"PATCH"}(i,o);var f;return{apiName:t.name,fromVersion:e.version,toVersion:t.version,changes:o,breakingChanges:i,totalChanges:o.length,riskScore:h,riskLevel:p,semverRecommendation:d,summary:a}}},3321(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.validateCommand=async function(e,t){try{let n=e;if(!n){const e=a.window.activeTextEditor;if(!e){const e=await a.window.showOpenDialog({canSelectMany:!0,openLabel:"Select API Spec(s) to Validate",filters:{"API Specs":["yaml","yml","json","graphql","gql","proto"]}});if(!e||0===e.length)return;for(const n of e)await u(n,t);return}n=e.document.uri}await u(n,t)}catch(e){e instanceof Error&&(l.Logger.error(`Validate failed: ${e.message}`),a.window.showErrorMessage(`Changelog Hub: ${e.message}`))}};const a=i(n(1398)),c=n(247),l=n(5628);async function u(e,t){await a.window.withProgress({location:a.ProgressLocation.Notification,title:`Validating ${e.fsPath.split("/").pop()}...`,cancellable:!1},async n=>{n.report({increment:30});const s=function(e,t){const n={valid:!0,type:"unknown",errors:[],warnings:[]};try{if(n.type=(0,c.detectSpecType)(e,t),"unknown"===n.type)return n.valid=!1,n.errors.push("Unable to detect specification type"),n;const s=(0,c.parseSpec)(e,t);s.name&&"Untitled API"!==s.name||n.warnings.push("API name not specified"),s.version&&"1.0.0"!==s.version||n.warnings.push("API version not explicitly specified"),0===s.endpoints.length&&n.warnings.push("No endpoints defined");const r=s.endpoints.filter(e=>e.deprecated).length;r>0&&n.warnings.push(`${r} deprecated endpoint(s) found`);const o=s.endpoints.filter(e=>!e.description&&!e.summary).length;o>0&&n.warnings.push(`${o} endpoint(s) missing description`);const i=s.endpoints.filter(e=>0===e.responses.length).length;i>0&&n.warnings.push(`${i} endpoint(s) missing response definitions`);const a=s.schemas.filter(e=>0===e.properties.length&&"object"===e.type);a.length>0&&n.warnings.push(`${a.length} schema(s) with no properties: ${a.map(e=>e.name).join(", ")}`)}catch(e){n.valid=!1;const t=e instanceof Error?e.message:String(e);n.errors.push(`Parse error: ${t}`)}return n}((await a.workspace.fs.readFile(e)).toString(),e.fsPath);if(n.report({increment:70}),t){const n=[];for(const e of s.errors)n.push(new a.Diagnostic(new a.Range(0,0,0,1),e,a.DiagnosticSeverity.Error));for(const e of s.warnings)n.push(new a.Diagnostic(new a.Range(0,0,0,1),e,a.DiagnosticSeverity.Warning));t.set(e,n)}s.valid?s.warnings.length>0?a.window.showWarningMessage(`Changelog Hub: Valid ${s.type.toUpperCase()} spec with ${s.warnings.length} warning(s)`):a.window.showInformationMessage(`Changelog Hub: Valid ${s.type.toUpperCase()} specification`):a.window.showErrorMessage(`Changelog Hub: Invalid specification - ${s.errors.join(", ")}`)})}},3334(e,t,n){var s=n(484),r=n(1755);const o={collection:"map",default:!0,nodeClass:r.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(s.isMap(e)||t("Expected a mapping for this tag"),e),createNode:(e,t,n)=>r.YAMLMap.from(e,t,n)};t.map=o},3615(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticProvider=void 0;const a=i(n(1398)),c=n(247),l=n(2478);t.DiagnosticProvider=class{diagnosticCollection;constructor(e){this.diagnosticCollection=e}updateDiagnostics(e){if(!this.isApiSpec(e))return;if(!(0,l.isInlineWarningsEnabled)())return void this.diagnosticCollection.delete(e.uri);const t=[];try{const n=e.getText(),s=(0,c.parseSpec)(n,e.fileName);for(const n of s.endpoints){if(n.deprecated){const s=this.findRange(e,n.path);if(s){const e=new a.Diagnostic(s,`Deprecated endpoint: ${n.method} ${n.path}`,a.DiagnosticSeverity.Warning);e.code="deprecated-endpoint",e.source="Changelog Hub",e.tags=[a.DiagnosticTag.Deprecated],t.push(e)}}if(!n.description&&!n.summary){const s=this.findRange(e,n.path);if(s){const e=new a.Diagnostic(s,`Missing description for ${n.method} ${n.path}`,a.DiagnosticSeverity.Information);e.code="missing-description",e.source="Changelog Hub",t.push(e)}}if(0===n.responses.length){const s=this.findRange(e,n.path);if(s){const e=new a.Diagnostic(s,`No response definitions for ${n.method} ${n.path}`,a.DiagnosticSeverity.Warning);e.code="missing-responses",e.source="Changelog Hub",t.push(e)}}}for(const n of s.schemas)if(0===n.properties.length&&"object"===n.type){const s=this.findRange(e,n.name);if(s){const e=new a.Diagnostic(s,`Schema '${n.name}' has no properties defined`,a.DiagnosticSeverity.Information);e.code="empty-schema",e.source="Changelog Hub",t.push(e)}}}catch(e){const n=e instanceof Error?e.message:"Unknown error";if(!n.includes("Unsupported")&&!n.includes("Unknown")){const e=new a.Diagnostic(new a.Range(0,0,0,1),`Failed to parse API spec: ${n}`,a.DiagnosticSeverity.Error);e.source="Changelog Hub",t.push(e)}}this.diagnosticCollection.set(e.uri,t)}isApiSpec(e){const t=e.fileName.split(".").pop()?.toLowerCase();if(!["yaml","yml","json","graphql","gql","proto"].includes(t||""))return!1;const n=e.getText().substring(0,500);return n.includes("openapi")||n.includes("swagger")||n.includes("asyncapi")||n.includes("type Query")||n.includes("service ")}findRange(e,t){const n=e.getText().indexOf(t);if(n>=0){const s=e.positionAt(n);return new a.Range(s,s.translate(0,t.length))}}}},3732(e,t,n){var s=n(484);t.toJS=function e(t,n,r){if(Array.isArray(t))return t.map((t,n)=>e(t,String(n),r));if(t&&"function"==typeof t.toJSON){if(!r||!s.hasAnchor(t))return t.toJSON(n,r);const e={aliasCount:0,count:1,res:void 0};r.anchors.set(t,e),r.onCreate=t=>{e.res=t,delete r.onCreate};const o=t.toJSON(n,r);return r.onCreate&&r.onCreate(o),o}return"bigint"!=typeof t||r?.keep?t:Number(t)}},3793(e,t,n){var s=n(6261),r=n(484),o=n(248),i=n(7180);t.createStringifyContext=function(e,t){const n=Object.assign({blockQuote:!0,commentString:o.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:s,options:n}},t.stringify=function(e,t,n,o){if(r.isPair(e))return e.toString(t,n,o);if(r.isAlias(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let a;const c=r.isNode(e)?e:t.doc.createNode(e,{onTagObj:e=>a=e});a??(a=function(e,t){if(t.tag){const n=e.filter(e=>e.tag===t.tag);if(n.length>0)return n.find(e=>e.format===t.format)??n[0]}let n,s;if(r.isScalar(t)){s=t.value;let r=e.filter(e=>e.identify?.(s));if(r.length>1){const e=r.filter(e=>e.test);e.length>0&&(r=e)}n=r.find(e=>e.format===t.format)??r.find(e=>!e.format)}else s=t,n=e.find(e=>e.nodeClass&&s instanceof e.nodeClass);if(!n)throw new Error(`Tag not resolved for ${s?.constructor?.name??(null===s?"null":typeof s)} value`);return n}(t.doc.schema.tags,c));const l=function(e,t,{anchors:n,doc:o}){if(!o.directives)return"";const i=[],a=(r.isScalar(e)||r.isCollection(e))&&e.anchor;a&&s.anchorIsValid(a)&&(n.add(a),i.push(`&${a}`));const c=e.tag??(t.default?null:t.tag);return c&&i.push(o.directives.tagString(c)),i.join(" ")}(c,a,t);l.length>0&&(t.indentAtStart=(t.indentAtStart??0)+l.length+1);const u="function"==typeof a.stringify?a.stringify(c,t,n,o):r.isScalar(c)?i.stringifyString(c,t,n,o):c.toString(t,n,o);return l?r.isScalar(c)||"{"===u[0]||"["===u[0]?`${l} ${u}`:`${l}\n${t.indent}${u}`:u}},4070(e,t,n){var s=n(9714);t.resolveBlockScalar=function(e,t,n){const r=t.offset,o=function({offset:e,props:t},n,s){if("block-scalar-header"!==t[0].type)return s(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=t[0],o=r[0];let i=0,a="",c=-1;for(let t=1;t<r.length;++t){const n=r[t];if(a||"-"!==n&&"+"!==n){const s=Number(n);!i&&s?i=s:-1===c&&(c=e+t)}else a=n}-1!==c&&s(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let l=!1,u="",h=r.length;for(let e=1;e<t.length;++e){const r=t[e];switch(r.type){case"space":l=!0;case"newline":h+=r.source.length;break;case"comment":n&&!l&&s(r,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),h+=r.source.length,u=r.source.substring(1);break;case"error":s(r,"UNEXPECTED_TOKEN",r.message),h+=r.source.length;break;default:{s(r,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${r.type}`);const e=r.source;e&&"string"==typeof e&&(h+=e.length)}}}return{mode:o,indent:i,chomp:a,comment:u,length:h}}(t,e.options.strict,n);if(!o)return{value:"",type:null,comment:"",range:[r,r,r]};const i=">"===o.mode?s.Scalar.BLOCK_FOLDED:s.Scalar.BLOCK_LITERAL,a=t.source?function(e){const t=e.split(/\n( *)/),n=t[0],s=n.match(/^( *)/),r=[s?.[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let e=1;e<t.length;e+=2)r.push([t[e],t[e+1]]);return r}(t.source):[];let c=a.length;for(let e=a.length-1;e>=0;--e){const t=a[e][1];if(""!==t&&"\r"!==t)break;c=e}if(0===c){const e="+"===o.chomp&&a.length>0?"\n".repeat(Math.max(1,a.length-1)):"";let n=r+o.length;return t.source&&(n+=t.source.length),{value:e,type:i,comment:o.comment,range:[r,n,n]}}let l=t.indent+o.indent,u=t.offset+o.length,h=0;for(let t=0;t<c;++t){const[s,r]=a[t];if(""!==r&&"\r"!==r){if(s.length<l){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(u+s.length,"MISSING_CHAR",e)}0===o.indent&&(l=s.length),h=t,0!==l||e.atRoot||n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}0===o.indent&&s.length>l&&(l=s.length),u+=s.length+r.length+1}for(let e=a.length-1;e>=c;--e)a[e][0].length>l&&(c=e+1);let p="",d="",f=!1;for(let e=0;e<h;++e)p+=a[e][0].slice(l)+"\n";for(let e=h;e<c;++e){let[t,r]=a[e];u+=t.length+r.length+1;const c="\r"===r[r.length-1];if(c&&(r=r.slice(0,-1)),r&&t.length<l){const e="Block scalar lines must not be less indented than their "+(o.indent?"explicit indentation indicator":"first line");n(u-r.length-(c?2:1),"BAD_INDENT",e),t=""}i===s.Scalar.BLOCK_LITERAL?(p+=d+t.slice(l)+r,d="\n"):t.length>l||"\t"===r[0]?(" "===d?d="\n":f||"\n"!==d||(d="\n\n"),p+=d+t.slice(l)+r,d="\n",f=!0):""===r?"\n"===d?p+="\n":d="\n":(p+=d+r,d=" ",f=!1)}switch(o.chomp){case"-":break;case"+":for(let e=c;e<a.length;++e)p+="\n"+a[e][0].slice(l);"\n"!==p[p.length-1]&&(p+="\n");break;default:p+="\n"}const m=r+o.length+t.source.length;return{value:p,type:i,comment:o.comment,range:[r,m,m]}}},4265(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.activate=function(e){y.Logger.info("Changelog Hub extension activating..."),b=a.languages.createDiagnosticCollection("changelogHub"),e.subscriptions.push(b),w=new l.ApiExplorerProvider(e),v=new u.BreakingChangesProvider(e),S=new h.ChangelogProvider(e),e.subscriptions.push(a.window.registerTreeDataProvider("changelogHub.apiExplorer",w)),e.subscriptions.push(a.window.registerTreeDataProvider("changelogHub.breakingChanges",v)),e.subscriptions.push(a.window.registerTreeDataProvider("changelogHub.changelog",S)),(0,c.registerCommands)(e,b,v,S);const t=new p.DiagnosticProvider(b),n=new d.HoverProvider,s=new f.CodeActionProvider(b),r=new m.DecorationProvider,o=[{language:"yaml",scheme:"file"},{language:"json",scheme:"file"},{language:"graphql",scheme:"file"},{language:"proto3",scheme:"file"}];e.subscriptions.push(a.languages.registerHoverProvider(o,n)),e.subscriptions.push(a.languages.registerCodeActionsProvider(o,s,{providedCodeActionKinds:f.CodeActionProvider.providedCodeActionKinds})),e.subscriptions.push(a.workspace.onDidChangeTextDocument(e=>{k(e.document)&&(t.updateDiagnostics(e.document),r.updateDecorations(e.document))})),e.subscriptions.push(a.workspace.onDidOpenTextDocument(e=>{k(e)&&(t.updateDiagnostics(e),r.updateDecorations(e),w.refresh())})),e.subscriptions.push(a.workspace.onDidSaveTextDocument(e=>{k(e)&&(t.updateDiagnostics(e),w.refresh())})),e.subscriptions.push(a.window.onDidChangeActiveTextEditor(e=>{e&&k(e.document)&&r.updateDecorations(e.document)})),new g.StatusBarManager(e).show(),a.workspace.textDocuments.forEach(e=>{k(e)&&t.updateDiagnostics(e)}),w.refresh(),y.Logger.info("Changelog Hub extension activated successfully")},t.deactivate=function(){y.Logger.info("Changelog Hub extension deactivated")};const a=i(n(1398)),c=n(5059),l=n(2546),u=n(4866),h=n(8166),p=n(3615),d=n(8014),f=n(591),m=n(4778),g=n(7089),y=n(5628);let b,w,v,S;function k(e){const t=e.fileName.split(".").pop()?.toLowerCase();if(!["yaml","yml","json","graphql","gql","proto"].includes(t||""))return!1;const n=e.getText().substring(0,1e3);return n.includes("openapi")||n.includes("swagger")||n.includes("asyncapi")||n.includes("type Query")||n.includes("type Mutation")||n.includes("service ")||n.includes("rpc ")}},4355(e,t){class n extends Error{constructor(e,t,n,s){super(),this.name=e,this.code=n,this.message=s,this.pos=t}}t.YAMLError=n,t.YAMLParseError=class extends n{constructor(e,t,n){super("YAMLParseError",e,t,n)}},t.YAMLWarning=class extends n{constructor(e,t,n){super("YAMLWarning",e,t,n)}},t.prettifyError=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map(e=>t.linePos(e));const{line:s,col:r}=n.linePos[0];n.message+=` at line ${s}, column ${r}`;let o=r-1,i=e.substring(t.lineStarts[s-1],t.lineStarts[s]).replace(/[\n\r]+$/,"");if(o>=60&&i.length>80){const e=Math.min(o-39,i.length-79);i="…"+i.substring(e),o-=e-1}if(i.length>80&&(i=i.substring(0,79)+"…"),s>1&&/^ *$/.test(i.substring(0,o))){let n=e.substring(t.lineStarts[s-2],t.lineStarts[s-1]);n.length>80&&(n=n.substring(0,79)+"…\n"),i=n+i}if(/[^ ]/.test(i)){let e=1;const t=n.linePos[1];t?.line===s&&t.col>r&&(e=Math.max(1,Math.min(t.col-r,80-o)));const a=" ".repeat(o)+"^".repeat(e);n.message+=`:\n\n${i}\n${a}\n`}}},4778(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.DecorationProvider=void 0;const a=i(n(1398)),c=n(247);t.DecorationProvider=class{deprecatedDecorationType;endpointDecorationType;schemaDecorationType;constructor(){this.deprecatedDecorationType=a.window.createTextEditorDecorationType({textDecoration:"line-through",opacity:"0.6",after:{contentText:" ⚠️ deprecated",color:new a.ThemeColor("editorWarning.foreground"),fontStyle:"italic"}}),this.endpointDecorationType=a.window.createTextEditorDecorationType({backgroundColor:new a.ThemeColor("editor.findMatchHighlightBackground"),borderRadius:"2px"}),this.schemaDecorationType=a.window.createTextEditorDecorationType({fontWeight:"bold",color:new a.ThemeColor("symbolIcon.classForeground")})}updateDecorations(e){const t=a.window.activeTextEditor;if(t&&t.document===e)if(this.isApiSpec(e))try{const n=e.getText(),s=(0,c.parseSpec)(n,e.fileName),r=[],o=[],i=[];for(const t of s.endpoints)if(t.deprecated){const n=this.findRange(e,t.path);n&&r.push({range:n,hoverMessage:new a.MarkdownString(`⚠️ **Deprecated:** ${t.method} ${t.path}`)})}const l=/\b(get|post|put|delete|patch|options|head):/gi;let u;for(;null!==(u=l.exec(n));){const t=e.positionAt(u.index),n=e.positionAt(u.index+u[0].length-1),s=new a.Range(t,n),r=u[1].toUpperCase();this.getMethodColor(r),o.push({range:s,renderOptions:{before:{contentText:this.getMethodIcon(r),margin:"0 4px 0 0"}}})}t.setDecorations(this.deprecatedDecorationType,r),t.setDecorations(this.endpointDecorationType,o),t.setDecorations(this.schemaDecorationType,i)}catch{this.clearDecorations(t)}else this.clearDecorations(t)}clearDecorations(e){e.setDecorations(this.deprecatedDecorationType,[]),e.setDecorations(this.endpointDecorationType,[]),e.setDecorations(this.schemaDecorationType,[])}isApiSpec(e){const t=e.fileName.split(".").pop()?.toLowerCase();if(!["yaml","yml","json"].includes(t||""))return!1;const n=e.getText().substring(0,500);return n.includes("openapi")||n.includes("swagger")||n.includes("asyncapi")}findRange(e,t){const n=e.getText().indexOf(t);if(n>=0){const s=e.positionAt(n);return new a.Range(s,s.translate(0,t.length))}}getMethodIcon(e){switch(e){case"GET":return"🔍";case"POST":return"➕";case"PUT":return"✏️";case"DELETE":return"🗑️";case"PATCH":return"🔧";default:return"📡"}}getMethodColor(e){switch(e){case"GET":return"#61affe";case"POST":return"#49cc90";case"PUT":return"#fca130";case"DELETE":return"#f93e3e";case"PATCH":return"#50e3c2";default:return"#9012fe"}}dispose(){this.deprecatedDecorationType.dispose(),this.endpointDecorationType.dispose(),this.schemaDecorationType.dispose()}}},4866(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.BreakingChangesProvider=void 0;const a=i(n(1398));t.BreakingChangesProvider=class{context;_onDidChangeTreeData=new a.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;breakingChanges=[];constructor(e){this.context=e}refresh(){this._onDidChangeTreeData.fire(void 0)}setBreakingChanges(e){this.breakingChanges=e,this.refresh()}clearBreakingChanges(){this.breakingChanges=[],this.refresh()}getTreeItem(e){return e}getChildren(e){if(!e){if(0===this.breakingChanges.length)return Promise.resolve([new u]);const e=new Map;for(const t of this.breakingChanges){const n=t.category;e.has(n)||e.set(n,[]),e.get(n).push(t)}const t=[];for(const[n,s]of e)t.push(new c(n,s));return Promise.resolve(t)}return e instanceof c?Promise.resolve(e.changes.map(e=>new l(e))):Promise.resolve([])}};class c extends a.TreeItem{category;changes;constructor(e,t){super(e,a.TreeItemCollapsibleState.Expanded),this.category=e,this.changes=t,this.tooltip=`${t.length} breaking change(s) in ${e}`,this.description=`${t.length}`,this.iconPath=this.getCategoryIcon(e),this.contextValue="category"}getCategoryIcon(e){switch(e){case"ENDPOINT":return new a.ThemeIcon("symbol-method",new a.ThemeColor("errorForeground"));case"PARAMETER":return new a.ThemeIcon("symbol-parameter",new a.ThemeColor("errorForeground"));case"SCHEMA":return new a.ThemeIcon("symbol-class",new a.ThemeColor("errorForeground"));case"SECURITY":return new a.ThemeIcon("shield",new a.ThemeColor("errorForeground"));default:return new a.ThemeIcon("error")}}}class l extends a.TreeItem{change;constructor(e){super(e.path,a.TreeItemCollapsibleState.None),this.change=e,this.tooltip=new a.MarkdownString,this.tooltip.appendMarkdown(`### ${e.path}\n\n`),this.tooltip.appendMarkdown(`**Type:** ${e.type}\n\n`),this.tooltip.appendMarkdown(`**Description:** ${e.description}\n\n`),this.tooltip.appendMarkdown(`**Impact Score:** ${e.impactScore}/100\n\n`),this.tooltip.appendMarkdown(`**Migration:** ${e.migrationSuggestion}`),this.description=e.type,this.iconPath=this.getTypeIcon(e.type),this.contextValue="breakingChange"}getTypeIcon(e){switch(e){case"REMOVED":return new a.ThemeIcon("trash",new a.ThemeColor("errorForeground"));case"MODIFIED":return new a.ThemeIcon("edit",new a.ThemeColor("errorForeground"));default:return new a.ThemeIcon("error")}}}class u extends a.TreeItem{constructor(){super("No breaking changes",a.TreeItemCollapsibleState.None),this.tooltip="Run a comparison to detect breaking changes",this.description="Run comparison to analyze",this.iconPath=new a.ThemeIcon("check",new a.ThemeColor("testing.iconPassed")),this.contextValue="noChanges",this.command={command:"changelogHub.compare",title:"Compare API Specs"}}}},4927(e,t,n){var s=n(932),r=n(8673),o=n(9046),i=n(4355),a=n(484),c=n(2206),l=n(6845);function u(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+("string"==typeof n?n.length:1)]}function h(e){let t="",n=!1,s=!1;for(let r=0;r<e.length;++r){const o=e[r];switch(o[0]){case"#":t+=(""===t?"":s?"\n\n":"\n")+(o.substring(1)||" "),n=!0,s=!1;break;case"%":"#"!==e[r+1]?.[0]&&(r+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:t,afterEmptyLine:s}}t.Composer=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,s)=>{const r=u(e);s?this.warnings.push(new i.YAMLWarning(r,t,n)):this.errors.push(new i.YAMLParseError(r,t,n))},this.directives=new r.Directives({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:s}=h(this.prelude);if(n){const r=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(s||e.directives.docStart||!r)e.commentBefore=n;else if(a.isCollection(r)&&!r.flow&&r.items.length>0){let e=r.items[0];a.isPair(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=r.commentBefore;r.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:h(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const t of e)yield*this.next(t);yield*this.end(t,n)}*next(e){switch(s.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(t,n,s)=>{const r=u(e);r[0]+=t,this.onError(r,"BAD_DIRECTIVE",n,s)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=c.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new i.YAMLParseError(u(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new i.YAMLParseError(u(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=l.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new i.YAMLParseError(u(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({_directives:this.directives},this.options),n=new o.Document(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,t,t],this.decorate(n,!1),yield n}}}},4988(e,t,n){var s=n(9714),r=n(3334),o=n(1919);function i(e){return"bigint"==typeof e||Number.isInteger(e)}const a=({value:e})=>JSON.stringify(e),c=[{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:a},{identify:e=>null==e,createNode:()=>new s.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:a},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>"true"===e,stringify:a},{identify:i,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>i(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:a}],l={default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)},u=[r.map,o.seq].concat(c,l);t.schema=u},5059(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.registerCommands=function(e,t,n,s){e.subscriptions.push(a.commands.registerCommand("changelogHub.compare",e=>(0,c.compareCommand)(e,n,s))),e.subscriptions.push(a.commands.registerCommand("changelogHub.compareWithGit",e=>(0,l.compareWithGitCommand)(e,n,s))),e.subscriptions.push(a.commands.registerCommand("changelogHub.analyze",u.analyzeCommand)),e.subscriptions.push(a.commands.registerCommand("changelogHub.validate",e=>(0,h.validateCommand)(e,t))),e.subscriptions.push(a.commands.registerCommand("changelogHub.generateChangelog",()=>(0,p.generateChangelogCommand)(s))),e.subscriptions.push(a.commands.registerCommand("changelogHub.showBreakingChanges",()=>{a.commands.executeCommand("changelogHub.breakingChanges.focus")})),e.subscriptions.push(a.commands.registerCommand("changelogHub.refreshViews",()=>{n.refresh(),s.refresh()}))};const a=i(n(1398)),c=n(2724),l=n(2422),u=n(703),h=n(3321),p=n(6108)},5132(e,t,n){var s=n(9714);const r={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new s.Scalar("t"===e[0]||"T"===e[0]),stringify:({source:e,value:t},n)=>e&&r.test.test(e)&&t===("t"===e[0]||"T"===e[0])?e:t?n.options.trueStr:n.options.falseStr};t.boolTag=r},5139(e,t,n){var s=n(7444),r=n(9637),o=n(3793),i=n(484),a=n(3732);t.addPairToJSMap=function(e,t,{key:n,value:c}){if(i.isNode(n)&&n.addToJSMap)n.addToJSMap(e,t,c);else if(r.isMergeKey(e,n))r.addMergeToJSMap(e,t,c);else{const r=a.toJS(n,"",e);if(t instanceof Map)t.set(r,a.toJS(c,r,e));else if(t instanceof Set)t.add(r);else{const l=function(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(i.isNode(e)&&n?.doc){const t=o.createStringifyContext(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const r=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(r);e.length>40&&(e=e.substring(0,36)+'..."'),s.warn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(t)}(n,r,e),u=a.toJS(c,l,e);l in t?Object.defineProperty(t,l,{value:u,writable:!0,enumerable:!0,configurable:!0}):t[l]=u}}return t}},5141(e,t,n){var s=n(4070),r=n(7571),o=n(4355),i=n(7180);function a(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function c(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const s=e.props.slice(1);let r=t.length;"block-scalar-header"===e.props[0].type&&(r-=e.props[0].source.length);for(const e of s)e.offset+=r;delete e.props,Object.assign(e,{type:n,source:t,end:s});break}case"block-map":case"block-seq":{const s={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:n,source:t,end:[s]});break}default:{const s="indent"in e?e.indent:-1,r="end"in e&&Array.isArray(e.end)?e.end.filter(e=>"space"===e.type||"comment"===e.type||"newline"===e.type):[];for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:n,indent:s,source:t,end:r})}}}t.createScalarToken=function(e,t){const{implicitKey:n=!1,indent:s,inFlow:r=!1,offset:o=-1,type:c="PLAIN"}=t,l=i.stringifyString({type:c,value:e},{implicitKey:n,indent:s>0?" ".repeat(s):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),u=t.end??[{type:"newline",offset:-1,indent:s,source:"\n"}];switch(l[0]){case"|":case">":{const e=l.indexOf("\n"),t=l.substring(0,e),n=l.substring(e+1)+"\n",r=[{type:"block-scalar-header",offset:o,indent:s,source:t}];return a(r,u)||r.push({type:"newline",offset:-1,indent:s,source:"\n"}),{type:"block-scalar",offset:o,indent:s,props:r,source:n}}case'"':return{type:"double-quoted-scalar",offset:o,indent:s,source:l,end:u};case"'":return{type:"single-quoted-scalar",offset:o,indent:s,source:l,end:u};default:return{type:"scalar",offset:o,indent:s,source:l,end:u}}},t.resolveAsScalar=function(e,t=!0,n){if(e){const i=(e,t,s)=>{const r="number"==typeof e?e:Array.isArray(e)?e[0]:e.offset;if(!n)throw new o.YAMLParseError([r,r+1],t,s);n(r,t,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return r.resolveFlowScalar(e,t,i);case"block-scalar":return s.resolveBlockScalar({options:{strict:t}},e,i)}}return null},t.setScalarValue=function(e,t,n={}){let{afterKey:s=!1,implicitKey:r=!1,inFlow:o=!1,type:l}=n,u="indent"in e?e.indent:null;if(s&&"number"==typeof u&&(u+=2),!l)switch(e.type){case"single-quoted-scalar":l="QUOTE_SINGLE";break;case"double-quoted-scalar":l="QUOTE_DOUBLE";break;case"block-scalar":{const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");l=">"===t.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:l="PLAIN"}const h=i.stringifyString({type:l,value:t},{implicitKey:r||null===u,indent:null!==u&&u>0?" ".repeat(u):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(h[0]){case"|":case">":!function(e,t){const n=t.indexOf("\n"),s=t.substring(0,n),r=t.substring(n+1)+"\n";if("block-scalar"===e.type){const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");t.source=s,e.source=r}else{const{offset:t}=e,n="indent"in e?e.indent:-1,o=[{type:"block-scalar-header",offset:t,indent:n,source:s}];a(o,"end"in e?e.end:void 0)||o.push({type:"newline",offset:-1,indent:n,source:"\n"});for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:"block-scalar",indent:n,props:o,source:r})}}(e,h);break;case'"':c(e,h,"double-quoted-scalar");break;case"'":c(e,h,"single-quoted-scalar");break;default:c(e,h,"scalar")}}},5219(e,t,n){var s=n(1736),r=n(484),o=n(9714);t.createNode=function(e,t,n){if(r.isDocument(e)&&(e=e.contents),r.isNode(e))return e;if(r.isPair(e)){const t=n.schema[r.MAP].createNode?.(n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"undefined"!=typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:i,onAnchor:a,onTagObj:c,schema:l,sourceObjects:u}=n;let h;if(i&&e&&"object"==typeof e){if(h=u.get(e),h)return h.anchor??(h.anchor=a(e)),new s.Alias(h.anchor);h={anchor:null,node:null},u.set(e,h)}t?.startsWith("!!")&&(t="tag:yaml.org,2002:"+t.slice(2));let p=function(e,t,n){if(t){const e=n.filter(e=>e.tag===t),s=e.find(e=>!e.format)??e[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return n.find(t=>t.identify?.(e)&&!t.format)}(e,t,l.tags);if(!p){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){const t=new o.Scalar(e);return h&&(h.node=t),t}p=e instanceof Map?l[r.MAP]:Symbol.iterator in Object(e)?l[r.SEQ]:l[r.MAP]}c&&(c(p),delete n.onTagObj);const d=p?.createNode?p.createNode(n.schema,e,n):"function"==typeof p?.nodeClass?.from?p.nodeClass.from(n.schema,e,n):new o.Scalar(e);return t?d.tag=t:p.default||(d.tag=p.tag),h&&(h.node=d),d}},5317(e){e.exports=require("child_process")},5437(e,t,n){var s=n(3144);function r(e,t){const n=e[0],s="-"===n||"+"===n?e.substring(1):e,r=e=>t?BigInt(e):Number(e),o=s.replace(/_/g,"").split(":").reduce((e,t)=>e*r(60)+r(t),r(0));return"-"===n?r(-1)*o:o}function o(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return s.stringifyNumber(e);let r="";t<0&&(r="-",t*=n(-1));const o=n(60),i=[t%o];return t<60?i.unshift(0):(t=(t-i[0])/o,i.unshift(t%o),t>=60&&(t=(t-i[0])/o,i.unshift(t))),r+i.map(e=>String(e).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const i={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>r(e,n),stringify:o},a={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>r(e,!1),stringify:o},c={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(c.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,o,i,a,l]=t.map(Number),u=t[7]?Number((t[7]+"00").substr(1,3)):0;let h=Date.UTC(n,s-1,o,i||0,a||0,l||0,u);const p=t[8];if(p&&"Z"!==p){let e=r(p,!1);Math.abs(e)<30&&(e*=60),h-=6e4*e}return new Date(h)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};t.floatTime=a,t.intTime=i,t.timestamp=c},5628(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const a=i(n(1398));let c;function l(){return c||(c=a.window.createOutputChannel("Changelog Hub")),c}t.Logger=class{static formatMessage(e,t){return`[${(new Date).toISOString()}] [${e}] ${t}`}static info(e){l().appendLine(this.formatMessage("INFO",e))}static warn(e){l().appendLine(this.formatMessage("WARN",e))}static error(e){l().appendLine(this.formatMessage("ERROR",e))}static debug(e){l().appendLine(this.formatMessage("DEBUG",e))}static show(){l().show()}static clear(){l().clear()}}},5752(e,t,n){var s=n(9112);function r(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const o=new Set("0123456789ABCDEFabcdef"),i=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),a=new Set(",[]{}"),c=new Set(" ,[]{}\n\r\t"),l=e=>!e||c.has(e);t.Lexer=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){if(e){if("string"!=typeof e)throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&r(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if(e[0]===s.BOM&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length,n=e.indexOf("#");for(;-1!==n;){const s=e[n-1];if(" "===s||"\t"===s){t=n-1;break}n=e.indexOf("#",n+1)}for(;;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}const s=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield s.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if(("---"===e||"..."===e)&&r(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"---"===e?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!r(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&r(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(l),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const o=this.getLine();if(null===o)return this.setNext("flow");if((-1!==n&&n<this.indentNext&&"#"!==o[0]||0===n&&(o.startsWith("---")||o.startsWith("..."))&&r(o[3]))&&(n!==this.indentNext-1||1!==this.flowLevel||"]"!==o[0]&&"}"!==o[0]))return this.flowLevel=0,yield s.FLOW_END,yield*this.parseLineStart();let i=0;for(;","===o[i];)i+=(yield*this.pushCount(1)),i+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(i+=(yield*this.pushIndicators()),o[i]){case void 0:return"flow";case"#":return yield*this.pushCount(o.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(l),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||r(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let s=n.indexOf("\n",this.pos);if(-1!==s){for(;-1!==s;){const e=this.continueScalar(s+1);if(-1===e)break;s=n.indexOf("\n",e)}-1!==s&&(t=s-("\r"===n[s-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil(e=>r(e)||"#"===e)}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let s=this.pos;e=this.buffer[s];++s)switch(e){case" ":n+=1;break;case"\n":t=s,n=0;break;case"\r":{const e=this.buffer[s+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext=this.blockScalarIndent+(0===this.indentNext?1:this.indentNext);do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let r=t+1;for(e=this.buffer[r];" "===e;)e=this.buffer[++r];if("\t"===e){for(;"\t"===e||" "===e||"\r"===e||"\n"===e;)e=this.buffer[++r];t=r-1}else if(!this.blockScalarKeep)for(;;){let e=t-1,s=this.buffer[e];"\r"===s&&(s=this.buffer[--e]);const r=e;for(;" "===s;)s=this.buffer[--e];if(!("\n"===s&&e>=this.pos&&e+1+n>r))break;t=e}return yield s.SCALAR,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,o=this.pos-1;for(;t=this.buffer[++o];)if(":"===t){const t=this.buffer[o+1];if(r(t)||e&&a.has(t))break;n=o}else if(r(t)){let s=this.buffer[o+1];if("\r"===t&&("\n"===s?(o+=1,t="\n",s=this.buffer[o+1]):n=o),"#"===s||e&&a.has(s))break;if("\n"===t){const e=this.continueScalar(o+1);if(-1===e)break;o=Math.max(o,e-2)}}else{if(e&&a.has(t))break;n=o}return t||this.atEnd?(yield s.SCALAR,yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(l))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(r(t)||e&&a.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!r(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(i.has(t))t=this.buffer[++e];else{if("%"!==t||!o.has(this.buffer[e+1])||!o.has(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}},5822(e,t,n){var s=n(3334),r=n(6055),o=n(1919),i=n(8531),a=n(8080),c=n(7969),l=n(7191),u=n(6936),h=n(9637),p=n(692),d=n(8416),f=n(2557),m=n(5437);const g=[s.map,o.seq,i.string,r.nullTag,c.trueTag,c.falseTag,u.intBin,u.intOct,u.int,u.intHex,l.floatNaN,l.floatExp,l.float,a.binary,h.merge,p.omap,d.pairs,f.set,m.intTime,m.floatTime,m.timestamp];t.schema=g},5970(e,t){const n=Symbol("break visit"),s=Symbol("skip children"),r=Symbol("remove item");function o(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),i(Object.freeze([]),e,t)}function i(e,t,s){let o=s(t,e);if("symbol"==typeof o)return o;for(const a of["key","value"]){const c=t[a];if(c&&"items"in c){for(let t=0;t<c.items.length;++t){const o=i(Object.freeze(e.concat([[a,t]])),c.items[t],s);if("number"==typeof o)t=o-1;else{if(o===n)return n;o===r&&(c.items.splice(t,1),t-=1)}}"function"==typeof o&&"key"===a&&(o=o(t,e))}}return"function"==typeof o?o(t,e):o}o.BREAK=n,o.SKIP=s,o.REMOVE=r,o.itemAtPath=(e,t)=>{let n=e;for(const[e,s]of t){const t=n?.[e];if(!t||!("items"in t))return;n=t.items[s]}return n},o.parentCollection=(e,t)=>{const n=o.itemAtPath(e,t.slice(0,-1)),s=t[t.length-1][0],r=n?.[s];if(r&&"items"in r)return r;throw new Error("Parent collection not found")},t.visit=o},6010(e,t,n){var s=n(5219),r=n(81),o=n(1614),i=n(484),a=n(9714),c=n(3732);class l extends o.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(i.SEQ,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=u(e);return"number"==typeof t&&this.items.splice(t,1).length>0}get(e,t){const n=u(e);if("number"!=typeof n)return;const s=this.items[n];return!t&&i.isScalar(s)?s.value:s}has(e){const t=u(e);return"number"==typeof t&&t<this.items.length}set(e,t){const n=u(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[n];i.isScalar(s)&&a.isScalarValue(t)?s.value=t:this.items[n]=t}toJSON(e,t){const n=[];t?.onCreate&&t.onCreate(n);let s=0;for(const e of this.items)n.push(c.toJS(e,String(s++),t));return n}toString(e,t,n){return e?r.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(e,t,n){const{replacer:r}=n,o=new this(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let i of t){if("function"==typeof r){const n=t instanceof Set?i:String(e++);i=r.call(t,n,i)}o.items.push(s.createNode(i,void 0,n))}}return o}}function u(e){let t=i.isScalar(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}t.YAMLSeq=l},6055(e,t,n){var s=n(9714);const r={identify:e=>null==e,createNode:()=>new s.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new s.Scalar(null),stringify:({source:e},t)=>"string"==typeof e&&r.test.test(e)?e:t.options.nullStr};t.nullTag=r},6108(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.generateChangelogCommand=async function(e){try{const t=a.workspace.workspaceFolders;if(!t||0===t.length)return void a.window.showErrorMessage("Changelog Hub: No workspace folder open");const n=t[0],s=(0,f.getSpecPatterns)(),r=[];for(const e of s){const t=await a.workspace.findFiles(e,"**/node_modules/**");r.push(...t)}if(0===r.length)return void a.window.showWarningMessage("Changelog Hub: No API spec files found in workspace");const o=r.map(e=>({label:c.basename(e.fsPath),description:a.workspace.asRelativePath(e),uri:e})),i=await a.window.showQuickPick(o,{placeHolder:"Select API spec to generate changelog for"});if(!i)return;const d=await async function(e){const t=[];try{const n=(0,l.execSync)("git tag --sort=-v:refname",{cwd:e,encoding:"utf-8"}).split("\n").filter(e=>e.trim());for(const e of n.slice(0,10))t.push({label:e,description:"Tag"});const s=(0,l.execSync)('git branch -a --format="%(refname:short)"',{cwd:e,encoding:"utf-8"}).split("\n").filter(e=>e.trim()&&!e.includes("HEAD"));for(const e of s.slice(0,5))t.push({label:e,description:"Branch"});t.push({label:"HEAD",description:"Current commit"}),t.push({label:"HEAD~1",description:"Previous commit"})}catch{}return t}(n.uri.fsPath);if(d.length<2)return void a.window.showWarningMessage("Changelog Hub: Need at least 2 Git refs (tags/branches) to generate changelog");const g=await a.window.showQuickPick(d,{placeHolder:"Select FROM version (older)"});if(!g)return;const y=d.filter(e=>e.label!==g.label),b=await a.window.showQuickPick(y,{placeHolder:"Select TO version (newer)"});if(!b)return;await a.window.withProgress({location:a.ProgressLocation.Notification,title:"Generating changelog...",cancellable:!1},async t=>{const s=a.workspace.asRelativePath(i.uri);let r,o;t.report({increment:20,message:`Getting ${g.label}...`});try{r=(0,l.execSync)(`git show ${g.label}:${s}`,{cwd:n.uri.fsPath,encoding:"utf-8"})}catch{throw new Error(`Could not get file from ${g.label}`)}t.report({increment:20,message:`Getting ${b.label}...`});try{o=(0,l.execSync)(`git show ${b.label}:${s}`,{cwd:n.uri.fsPath,encoding:"utf-8"})}catch{throw new Error(`Could not get file from ${b.label}`)}t.report({increment:20,message:"Comparing versions..."});const c=(0,u.parseSpec)(r,i.uri.fsPath),d=(0,u.parseSpec)(o,i.uri.fsPath),y=(0,h.compareSpecs)(c,d);y.fromVersion=g.label,y.toVersion=b.label,t.report({increment:20,message:"Generating changelog..."}),e&&e.setChanges(y.changes);const w=(0,f.getConfig)(),v=(0,p.generateReport)(y,w.defaultFormat);t.report({increment:20});const S=await a.window.showQuickPick([{label:"Preview",description:"Open in editor"},{label:"Save to CHANGELOG.md",description:"Save to file"},{label:"Append to CHANGELOG.md",description:"Append to existing file"}],{placeHolder:"What would you like to do with the changelog?"});S&&("Preview"===S.label?await async function(e,t){const n=await a.workspace.openTextDocument({content:e,language:"json"===t?"json":"html"===t?"html":"markdown"});await a.window.showTextDocument(n,{preview:!0,viewColumn:a.ViewColumn.One})}(v,w.defaultFormat):"Save to CHANGELOG.md"===S.label?await m(n.uri,v,!1):await m(n.uri,v,!0),function(e,t,n){const s=e.breakingChanges.length,r=s>0?`${s} breaking change(s) between ${t} and ${n}. Recommended: ${e.semverRecommendation}`:`No breaking changes between ${t} and ${n}. ${e.changes.length} change(s) found.`;s>0?a.window.showWarningMessage(`Changelog Hub: ${r}`):a.window.showInformationMessage(`Changelog Hub: ${r}`)}(y,g.label,b.label))})}catch(e){e instanceof Error&&(d.Logger.error(`Generate changelog failed: ${e.message}`),a.window.showErrorMessage(`Changelog Hub: ${e.message}`))}};const a=i(n(1398)),c=i(n(6928)),l=n(5317),u=n(247),h=n(3260),p=n(8197),d=n(5628),f=n(2478);async function m(e,t,n){const s=a.Uri.joinPath(e,"CHANGELOG.md");let r=t;if(n)try{r=t+"\n\n---\n\n"+(await a.workspace.fs.readFile(s)).toString()}catch{}await a.workspace.fs.writeFile(s,Buffer.from(r));const o=await a.workspace.openTextDocument(s);await a.window.showTextDocument(o),a.window.showInformationMessage("Changelog Hub: CHANGELOG.md saved")}},6170(e,t){const n="block",s="quoted";function r(e,t,n){let s=t,r=t+1,o=e[r];for(;" "===o||"\t"===o;)if(t<r+n)o=e[++t];else{do{o=e[++t]}while(o&&"\n"!==o);s=t,r=t+1,o=e[r]}return s}t.FOLD_BLOCK=n,t.FOLD_FLOW="flow",t.FOLD_QUOTED=s,t.foldFlowLines=function(e,t,o="flow",{indentAtStart:i,lineWidth:a=80,minContentWidth:c=20,onFold:l,onOverflow:u}={}){if(!a||a<0)return e;a<c&&(c=0);const h=Math.max(1+c,1+a-t.length);if(e.length<=h)return e;const p=[],d={};let f,m,g=a-t.length;"number"==typeof i&&(i>a-Math.max(2,c)?p.push(0):g=a-i);let y=!1,b=-1,w=-1,v=-1;o===n&&(b=r(e,b,t.length),-1!==b&&(g=b+h));for(let i;i=e[b+=1];){if(o===s&&"\\"===i){switch(w=b,e[b+1]){case"x":b+=3;break;case"u":b+=5;break;case"U":b+=9;break;default:b+=1}v=b}if("\n"===i)o===n&&(b=r(e,b,t.length)),g=b+t.length+h,f=void 0;else{if(" "===i&&m&&" "!==m&&"\n"!==m&&"\t"!==m){const t=e[b+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(f=b)}if(b>=g)if(f)p.push(f),g=f+h,f=void 0;else if(o===s){for(;" "===m||"\t"===m;)m=i,i=e[b+=1],y=!0;const t=b>v+1?b-2:w-1;if(d[t])return e;p.push(t),d[t]=!0,g=t+h,f=void 0}else y=!0}m=i}if(y&&u&&u(),0===p.length)return e;l&&l();let S=e.slice(0,p[0]);for(let n=0;n<p.length;++n){const r=p[n],i=p[n+1]||e.length;0===r?S=`\n${t}${e.slice(0,i)}`:(o===s&&d[r]&&(S+=`${e[r]}\\`),S+=`\n${t}${e.slice(r+1,i)}`)}return S}},6247(e,t,n){var s=n(932),r=n(9112),o=n(5752);function i(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function a(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function c(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function l(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function u(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===e[++t]?.type;);return e.splice(t,e.length)}function h(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||i(t.start,"explicit-key-ind")||i(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,c(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}t.Parser=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new o.Lexer,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,s.env.LOG_TOKENS&&console.log("|",r.prettyToken(e)),this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=r.tokenType(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||"doc-end"===e?.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&h(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!n.explicitKey);n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!("document"!==e.type&&"block-map"!==e.type&&"block-seq"!==e.type||"block-map"!==t.type&&"block-seq"!==t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===a(n.start)&&(0===t.indent||n.start.every(e=>"comment"!==e.type||e.indent<t.indent))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==a(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=u(l(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const n="end"in t.value?t.value.end:void 0,s=Array.isArray(n)?n[n.length-1]:void 0;"comment"===s?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2],s=n?.value?.end;if(Array.isArray(s))return Array.prototype.push.apply(s,t.start),s.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent,s=n&&(t.sep||t.explicitKey)&&"seq-item-ind"!==this.type;let r=[];if(s&&t.sep&&!t.value){const n=[];for(let s=0;s<t.sep.length;++s){const r=t.sep[s];switch(r.type){case"newline":n.push(s);break;case"space":break;case"comment":r.indent>e.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(r=t.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(s||t.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"explicit-key-ind":return t.sep||t.explicitKey?s||t.value?(r.push(this.sourceToken),e.items.push({start:r,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(t.start.push(this.sourceToken),t.explicitKey=!0),void(this.onKeyLine=!0);case"map-value-ind":if(t.explicitKey)if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(i(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(c(t.key)&&!i(t.sep,"newline")){const e=u(t.start),n=t.key,s=t.sep;s.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:s}]})}else r.length>0?t.sep=t.sep.concat(r,this.sourceToken):t.sep.push(this.sourceToken);else if(i(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=u(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||s?e.items.push({start:r,key:null,sep:[this.sourceToken]}):i(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(s||t.value?(e.items.push({start:r,key:n,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(n):(Object.assign(t,{key:n,sep:[]}),this.onKeyLine=!0))}default:{const s=this.startBlockValue(e);if(s){if("block-seq"===s.type){if(!t.explicitKey&&t.sep&&!i(t.sep,"newline"))return void(yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source}))}else n&&e.items.push({start:r});return void this.stack.push(s)}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const n="end"in t.value?t.value.end:void 0,s=Array.isArray(n)?n[n.length-1]:void 0;"comment"===s?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2],s=n?.value?.end;if(Array.isArray(s))return Array.prototype.push.apply(s,t.start),s.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(t.value||i(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while("flow-collection"===e?.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=u(l(t));h(e);const s=e.end.splice(1,e.end.length);s.push(this.sourceToken);const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=u(l(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const t=u(l(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&!(this.indent<=t)&&e.every(e=>"newline"===e.type||"space"===e.type)}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}},6261(e,t,n){var s=n(484),r=n(9125);function o(e){const t=new Set;return r.visit(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function i(e,t){for(let n=1;;++n){const s=`${e}${n}`;if(!t.has(s))return s}}t.anchorIsValid=function(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0},t.anchorNames=o,t.createNodeAnchors=function(e,t){const n=[],r=new Map;let a=null;return{onAnchor:s=>{n.push(s),a??(a=o(e));const r=i(t,a);return a.add(r),r},setAnchors:()=>{for(const e of n){const t=r.get(e);if("object"!=typeof t||!t.anchor||!s.isScalar(t.node)&&!s.isCollection(t.node)){const t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:r}},t.findNewAnchor=i},6845(e,t){t.resolveEnd=function(e,t,n,s){let r="";if(e){let o=!1,i="";for(const a of e){const{source:e,type:c}=a;switch(c){case"space":o=!0;break;case"comment":{n&&!o&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";r?r+=i+t:r=t,i="";break}case"newline":r&&(i+=e),o=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=e.length}}return{comment:r,offset:t}}},6906(e,t){t.applyReviver=function e(t,n,s,r){if(r&&"object"==typeof r)if(Array.isArray(r))for(let n=0,s=r.length;n<s;++n){const s=r[n],o=e(t,r,String(n),s);void 0===o?delete r[n]:o!==s&&(r[n]=o)}else if(r instanceof Map)for(const n of Array.from(r.keys())){const s=r.get(n),o=e(t,r,n,s);void 0===o?r.delete(n):o!==s&&r.set(n,o)}else if(r instanceof Set)for(const n of Array.from(r)){const s=e(t,r,n,n);void 0===s?r.delete(n):s!==n&&(r.delete(n),r.add(s))}else for(const[n,s]of Object.entries(r)){const o=e(t,r,n,s);void 0===o?delete r[n]:o!==s&&(r[n]=o)}return t.call(n,s,r)}},6928(e){e.exports=require("path")},6936(e,t,n){var s=n(3144);const r=e=>"bigint"==typeof e||Number.isInteger(e);function o(e,t,n,{intAsBigInt:s}){const r=e[0];if("-"!==r&&"+"!==r||(t+=1),e=e.substring(t).replace(/_/g,""),s){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return"-"===r?BigInt(-1)*t:t}const o=parseInt(e,n);return"-"===r?-1*o:o}function i(e,t,n){const{value:o}=e;if(r(o)){const e=o.toString(t);return o<0?"-"+n+e.substr(1):n+e}return s.stringifyNumber(e)}const a={identify:r,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>o(e,2,2,n),stringify:e=>i(e,2,"0b")},c={identify:r,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>o(e,1,8,n),stringify:e=>i(e,8,"0")},l={identify:r,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>o(e,0,10,n),stringify:s.stringifyNumber},u={identify:r,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>o(e,2,16,n),stringify:e=>i(e,16,"0x")};t.int=l,t.intBin=a,t.intHex=u,t.intOct=c},7089(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBarManager=void 0;const a=i(n(1398));t.StatusBarManager=class{statusBarItem;isAnalyzing=!1;constructor(e){this.statusBarItem=a.window.createStatusBarItem(a.StatusBarAlignment.Right,100),this.statusBarItem.command="changelogHub.compare",this.statusBarItem.text="$(git-compare) Changelog Hub",this.statusBarItem.tooltip="Click to compare API specs",e.subscriptions.push(this.statusBarItem)}show(){this.statusBarItem.show()}hide(){this.statusBarItem.hide()}showAnalyzing(){this.isAnalyzing=!0,this.statusBarItem.text="$(sync~spin) Analyzing...",this.statusBarItem.tooltip="Analyzing API specification"}showReady(){this.isAnalyzing=!1,this.statusBarItem.text="$(git-compare) Changelog Hub",this.statusBarItem.tooltip="Click to compare API specs"}showBreakingChanges(e){this.isAnalyzing=!1,e>0?(this.statusBarItem.text=`$(warning) ${e} Breaking Change${e>1?"s":""}`,this.statusBarItem.tooltip=`${e} breaking change(s) detected. Click to view details.`,this.statusBarItem.backgroundColor=new a.ThemeColor("statusBarItem.warningBackground")):(this.statusBarItem.text="$(check) No Breaking Changes",this.statusBarItem.tooltip="No breaking changes detected",this.statusBarItem.backgroundColor=void 0)}showError(e){this.isAnalyzing=!1,this.statusBarItem.text="$(error) Changelog Hub",this.statusBarItem.tooltip=`Error: ${e}`,this.statusBarItem.backgroundColor=new a.ThemeColor("statusBarItem.errorBackground")}update(e,t){this.statusBarItem.text=e,t&&(this.statusBarItem.tooltip=t)}}},7180(e,t,n){var s=n(9714),r=n(6170);const o=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),i=e=>/^(%|---|\.\.\.)/m.test(e);function a(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=t,a=t.options.doubleQuotedMinMultiLineLength,c=t.indent||(i(e)?"  ":"");let l="",u=0;for(let e=0,t=n[e];t;t=n[++e])if(" "===t&&"\\"===n[e+1]&&"n"===n[e+2]&&(l+=n.slice(u,e)+"\\ ",e+=1,u=e,t="\\"),"\\"===t)switch(n[e+1]){case"u":{l+=n.slice(u,e);const t=n.substr(e+2,4);switch(t){case"0000":l+="\\0";break;case"0007":l+="\\a";break;case"000b":l+="\\v";break;case"001b":l+="\\e";break;case"0085":l+="\\N";break;case"00a0":l+="\\_";break;case"2028":l+="\\L";break;case"2029":l+="\\P";break;default:"00"===t.substr(0,2)?l+="\\x"+t.substr(2):l+=n.substr(e,6)}e+=5,u=e+1}break;case"n":if(s||'"'===n[e+2]||n.length<a)e+=1;else{for(l+=n.slice(u,e)+"\n\n";"\\"===n[e+2]&&"n"===n[e+3]&&'"'!==n[e+4];)l+="\n",e+=2;l+=c," "===n[e+2]&&(l+="\\"),e+=1,u=e+1}break;default:e+=1}return l=u?l+n.slice(u):n,s?l:r.foldFlowLines(l,c,r.FOLD_QUOTED,o(t,!1))}function c(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return a(e,t);const n=t.indent||(i(e)?"  ":""),s="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?s:r.foldFlowLines(s,n,r.FOLD_FLOW,o(t,!1))}function l(e,t){const{singleQuote:n}=t.options;let s;if(!1===n)s=a;else{const t=e.includes('"'),r=e.includes("'");s=t&&!r?c:r&&!t?a:n?c:a}return s(e,t)}let u;try{u=new RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{u=/\n+(?!\n|$)/g}function h({comment:e,type:t,value:n},a,c,h){const{blockQuote:p,commentString:d,lineWidth:f}=a.options;if(!p||/\n[\t ]+$/.test(n))return l(n,a);const m=a.indent||(a.forceBlockIndent||i(n)?"  ":""),g="literal"===p||"folded"!==p&&t!==s.Scalar.BLOCK_FOLDED&&(t===s.Scalar.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const s=t-n,r=e.length;if(r<=s)return!1;for(let t=0,n=0;t<r;++t)if("\n"===e[t]){if(t-n>s)return!0;if(n=t+1,r-n<=s)return!1}return!0}(n,f,m.length));if(!n)return g?"|\n":">\n";let y,b;for(b=n.length;b>0;--b){const e=n[b-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let w=n.substring(b);const v=w.indexOf("\n");-1===v?y="-":n===w||v!==w.length-1?(y="+",h&&h()):y="",w&&(n=n.slice(0,-w.length),"\n"===w[w.length-1]&&(w=w.slice(0,-1)),w=w.replace(u,`$&${m}`));let S,k=!1,O=-1;for(S=0;S<n.length;++S){const e=n[S];if(" "===e)k=!0;else{if("\n"!==e)break;O=S}}let A=n.substring(0,O<S?O+1:S);A&&(n=n.substring(A.length),A=A.replace(/\n+/g,`$&${m}`));let E=(k?m?"2":"1":"")+y;if(e&&(E+=" "+d(e.replace(/ ?[\r\n]+/g," ")),c&&c()),!g){const e=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${m}`);let i=!1;const c=o(a,!0);"folded"!==p&&t!==s.Scalar.BLOCK_FOLDED&&(c.onOverflow=()=>{i=!0});const l=r.foldFlowLines(`${A}${e}${w}`,m,r.FOLD_BLOCK,c);if(!i)return`>${E}\n${m}${l}`}return`|${E}\n${m}${A}${n=n.replace(/\n+/g,`$&${m}`)}${w}`}t.stringifyString=function(e,t,n,u){const{implicitKey:p,inFlow:d}=t,f="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:m}=e;m!==s.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(f.value)&&(m=s.Scalar.QUOTE_DOUBLE);const g=e=>{switch(e){case s.Scalar.BLOCK_FOLDED:case s.Scalar.BLOCK_LITERAL:return p||d?l(f.value,t):h(f,t,n,u);case s.Scalar.QUOTE_DOUBLE:return a(f.value,t);case s.Scalar.QUOTE_SINGLE:return c(f.value,t);case s.Scalar.PLAIN:return function(e,t,n,a){const{type:c,value:u}=e,{actualString:p,implicitKey:d,indent:f,indentStep:m,inFlow:g}=t;if(d&&u.includes("\n")||g&&/[[\]{},]/.test(u))return l(u,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(u))return d||g||!u.includes("\n")?l(u,t):h(e,t,n,a);if(!d&&!g&&c!==s.Scalar.PLAIN&&u.includes("\n"))return h(e,t,n,a);if(i(u)){if(""===f)return t.forceBlockIndent=!0,h(e,t,n,a);if(d&&f===m)return l(u,t)}const y=u.replace(/\n+/g,`$&\n${f}`);if(p){const e=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(y),{compat:n,tags:s}=t.doc.schema;if(s.some(e)||n?.some(e))return l(u,t)}return d?y:r.foldFlowLines(y,f,r.FOLD_FLOW,o(t,!1))}(f,t,n,u);default:return null}};let y=g(m);if(null===y){const{defaultKeyType:e,defaultStringType:n}=t.options,s=p&&e||n;if(y=g(s),null===y)throw new Error(`Unsupported default string type ${s}`)}return y}},7191(e,t,n){var s=n(9714),r=n(3144);const o={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:r.stringifyNumber},i={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():r.stringifyNumber(e)}},a={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new s.Scalar(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const s=e.substring(n+1).replace(/_/g,"");"0"===s[s.length-1]&&(t.minFractionDigits=s.length)}return t},stringify:r.stringifyNumber};t.float=a,t.floatExp=i,t.floatNaN=o},7434(e,t,n){var s=n(7902),r=n(1755),o=n(1386),i=n(9378),a=n(8644),c=n(8334);const l="All mapping items must start at the same column";t.resolveBlockMap=function({composeNode:e,composeEmptyNode:t},n,u,h,p){const d=new(p?.nodeClass??r.YAMLMap)(n.schema);n.atRoot&&(n.atRoot=!1);let f=u.offset,m=null;for(const r of u.items){const{start:p,key:g,sep:y,value:b}=r,w=o.resolveProps(p,{indicator:"explicit-key-ind",next:g??y?.[0],offset:f,onError:h,parentIndent:u.indent,startOnNewline:!0}),v=!w.found;if(v){if(g&&("block-seq"===g.type?h(f,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in g&&g.indent!==u.indent&&h(f,"BAD_INDENT",l)),!w.anchor&&!w.tag&&!y){m=w.end,w.comment&&(d.comment?d.comment+="\n"+w.comment:d.comment=w.comment);continue}(w.newlineAfterProp||i.containsNewline(g))&&h(g??p[p.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else w.found?.indent!==u.indent&&h(f,"BAD_INDENT",l);n.atKey=!0;const S=w.end,k=g?e(n,g,w,h):t(n,S,p,null,w,h);n.schema.compat&&a.flowIndentCheck(u.indent,g,h),n.atKey=!1,c.mapIncludes(n,d.items,k)&&h(S,"DUPLICATE_KEY","Map keys must be unique");const O=o.resolveProps(y??[],{indicator:"map-value-ind",next:b,offset:k.range[2],onError:h,parentIndent:u.indent,startOnNewline:!g||"block-scalar"===g.type});if(f=O.end,O.found){v&&("block-map"!==b?.type||O.hasNewline||h(f,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&w.start<O.found.offset-1024&&h(k.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const o=b?e(n,b,O,h):t(n,f,y,null,O,h);n.schema.compat&&a.flowIndentCheck(u.indent,b,h),f=o.range[2];const i=new s.Pair(k,o);n.options.keepSourceTokens&&(i.srcToken=r),d.items.push(i)}else{v&&h(k.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),O.comment&&(k.comment?k.comment+="\n"+O.comment:k.comment=O.comment);const e=new s.Pair(k);n.options.keepSourceTokens&&(e.srcToken=r),d.items.push(e)}}return m&&m<f&&h(m,"IMPOSSIBLE","Map comment with trailing content"),d.range=[u.offset,f,m??f],d}},7444(e,t,n){var s=n(932);t.debug=function(e,...t){"debug"===e&&console.log(...t)},t.warn=function(e,t){"debug"!==e&&"warn"!==e||("function"==typeof s.emitWarning?s.emitWarning(t):console.warn(t))}},7571(e,t,n){var s=n(9714),r=n(6845);function o(e){let t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=t.exec(e);if(!s)return e;let r=s[1],o=" ",i=t.lastIndex;for(n.lastIndex=i;s=n.exec(e);)""===s[1]?"\n"===o?r+=o:o="\n":(r+=o+s[1],o=" "),i=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=i,s=a.exec(e),r+o+(s?.[1]??"")}function i(e,t){let n="",s=e[t+1];for(;!(" "!==s&&"\t"!==s&&"\n"!==s&&"\r"!==s||"\r"===s&&"\n"!==e[t+2]);)"\n"===s&&(n+="\n"),s=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}const a={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function c(e,t,n,s){const r=e.substr(t,n),o=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){const r=e.substr(t-2,n+2);return s(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${r}`),r}return String.fromCodePoint(o)}t.resolveFlowScalar=function(e,t,n){const{offset:l,type:u,source:h,end:p}=e;let d,f;const m=(e,t,s)=>n(l+e,t,s);switch(u){case"scalar":d=s.Scalar.PLAIN,f=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${e[0]}`;break;case"@":case"`":n=`reserved character ${e[0]}`}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),o(e)}(h,m);break;case"single-quoted-scalar":d=s.Scalar.QUOTE_SINGLE,f=function(e,t){return"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote"),o(e.slice(1,-1)).replace(/''/g,"'")}(h,m);break;case"double-quoted-scalar":d=s.Scalar.QUOTE_DOUBLE,f=function(e,t){let n="";for(let s=1;s<e.length-1;++s){const r=e[s];if("\r"!==r||"\n"!==e[s+1])if("\n"===r){const{fold:t,offset:r}=i(e,s);n+=t,s=r}else if("\\"===r){let r=e[++s];const o=a[r];if(o)n+=o;else if("\n"===r)for(r=e[s+1];" "===r||"\t"===r;)r=e[1+ ++s];else if("\r"===r&&"\n"===e[s+1])for(r=e[1+ ++s];" "===r||"\t"===r;)r=e[1+ ++s];else if("x"===r||"u"===r||"U"===r){const o={x:2,u:4,U:8}[r];n+=c(e,s+1,o,t),s+=o}else{const r=e.substr(s-1,2);t(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${r}`),n+=r}}else if(" "===r||"\t"===r){const t=s;let o=e[s+1];for(;" "===o||"\t"===o;)o=e[1+ ++s];"\n"===o||"\r"===o&&"\n"===e[s+2]||(n+=s>t?e.slice(t,s+1):r)}else n+=r}return'"'===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}(h,m);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${u}`),{value:"",type:null,comment:"",range:[l,l+h.length,l+h.length]}}const g=l+h.length,y=r.resolveEnd(p,g,t,n);return{value:f,type:d,comment:y.comment,range:[l,g,y.offset]}}},7808(e,t){function n(e){switch(e.type){case"block-scalar":{let t="";for(const s of e.props)t+=n(s);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=s(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=s(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=s(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function s({start:e,key:t,sep:s,value:r}){let o="";for(const t of e)o+=t.source;if(t&&(o+=n(t)),s)for(const e of s)o+=e.source;return r&&(o+=n(r)),o}t.stringify=e=>"type"in e?n(e):s(e)},7902(e,t,n){var s=n(5219),r=n(8017),o=n(5139),i=n(484);class a{constructor(e,t=null){Object.defineProperty(this,i.NODE_TYPE,{value:i.PAIR}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return i.isNode(t)&&(t=t.clone(e)),i.isNode(n)&&(n=n.clone(e)),new a(t,n)}toJSON(e,t){const n=t?.mapAsMap?new Map:{};return o.addPairToJSMap(t,n,this)}toString(e,t,n){return e?.doc?r.stringifyPair(this,e,t,n):JSON.stringify(this)}}t.Pair=a,t.createPair=function(e,t,n){const r=s.createNode(e,void 0,n),o=s.createNode(t,void 0,n);return new a(r,o)}},7969(e,t,n){var s=n(9714);function r({value:e,source:t},n){return t&&(e?o:i).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const o={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new s.Scalar(!0),stringify:r},i={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new s.Scalar(!1),stringify:r};t.falseTag=i,t.trueTag=o},8014(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.HoverProvider=void 0;const a=i(n(1398)),c=n(247);t.HoverProvider=class{provideHover(e,t,n){try{const n=e.getText(),s=(0,c.parseSpec)(n,e.fileName),r=e.getWordRangeAtPosition(t,/\/[a-zA-Z0-9\/_\-{}]+/);if(r){const t=e.getText(r),n=s.endpoints.find(e=>e.path===t);if(n)return new a.Hover(this.createEndpointHover(n),r)}const o=e.getWordRangeAtPosition(t);if(o){const t=e.getText(o),n=s.schemas.find(e=>e.name===t);if(n)return new a.Hover(this.createSchemaHover(n),o)}const i=e.getWordRangeAtPosition(t,/\b(get|post|put|delete|patch|options|head)\b/i);if(i){const n=e.getText(i).toUpperCase(),r=e.lineAt(t.line).text.match(/\/[a-zA-Z0-9\/_\-{}]+/);if(r){const e=s.endpoints.find(e=>e.method===n&&e.path===r[0]);if(e)return new a.Hover(this.createEndpointHover(e),i)}}return null}catch{return null}}createEndpointHover(e){const t=new a.MarkdownString;if(t.isTrusted=!0,t.appendMarkdown(`### ${e.method} ${e.path}\n\n`),e.deprecated&&t.appendMarkdown("⚠️ **Deprecated**\n\n"),e.summary&&t.appendMarkdown(`${e.summary}\n\n`),e.description&&e.description!==e.summary&&t.appendMarkdown(`${e.description}\n\n`),e.tags.length>0&&t.appendMarkdown(`**Tags:** ${e.tags.join(", ")}\n\n`),e.parameters.length>0){t.appendMarkdown("**Parameters:**\n");for(const n of e.parameters){const e=n.required?" *(required)*":"";t.appendMarkdown(`- \`${n.name}\` (${n.location}): ${n.type}${e}\n`)}t.appendMarkdown("\n")}if(e.responses.length>0){t.appendMarkdown("**Responses:**\n");for(const n of e.responses)t.appendMarkdown(`- \`${n.statusCode}\`: ${n.description}\n`)}return t}createSchemaHover(e){const t=new a.MarkdownString;if(t.isTrusted=!0,t.appendMarkdown(`### Schema: ${e.name}\n\n`),e.description&&t.appendMarkdown(`${e.description}\n\n`),t.appendMarkdown(`**Type:** ${e.type}\n\n`),e.properties.length>0){t.appendMarkdown("**Properties:**\n");for(const n of e.properties){const e=n.required?" *(required)*":"";let s=`- \`${n.name}\`: ${n.type}${e}`;n.description&&(s+=` - ${n.description}`),t.appendMarkdown(s+"\n")}}return t}}},8017(e,t,n){var s=n(484),r=n(9714),o=n(3793),i=n(248);t.stringifyPair=function({key:e,value:t},n,a,c){const{allNullValues:l,doc:u,indent:h,indentStep:p,options:{commentString:d,indentSeq:f,simpleKeys:m}}=n;let g=s.isNode(e)&&e.comment||null;if(m){if(g)throw new Error("With simple keys, key nodes cannot have comments");if(s.isCollection(e)||!s.isNode(e)&&"object"==typeof e)throw new Error("With simple keys, collection cannot be used as a key value")}let y=!m&&(!e||g&&null==t&&!n.inFlow||s.isCollection(e)||(s.isScalar(e)?e.type===r.Scalar.BLOCK_FOLDED||e.type===r.Scalar.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!y&&(m||!l),indent:h+p});let b,w,v,S=!1,k=!1,O=o.stringify(e,n,()=>S=!0,()=>k=!0);if(!y&&!n.inFlow&&O.length>1024){if(m)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");y=!0}if(n.inFlow){if(l||null==t)return S&&a&&a(),""===O?"?":y?`? ${O}`:O}else if(l&&!m||null==t&&y)return O=`? ${O}`,g&&!S?O+=i.lineComment(O,n.indent,d(g)):k&&c&&c(),O;S&&(g=null),y?(g&&(O+=i.lineComment(O,n.indent,d(g))),O=`? ${O}\n${h}:`):(O=`${O}:`,g&&(O+=i.lineComment(O,n.indent,d(g)))),s.isNode(t)?(b=!!t.spaceBefore,w=t.commentBefore,v=t.comment):(b=!1,w=null,v=null,t&&"object"==typeof t&&(t=u.createNode(t))),n.implicitKey=!1,y||g||!s.isScalar(t)||(n.indentAtStart=O.length+1),k=!1,f||!(p.length>=2)||n.inFlow||y||!s.isSeq(t)||t.flow||t.tag||t.anchor||(n.indent=n.indent.substring(2));let A=!1;const E=o.stringify(t,n,()=>A=!0,()=>k=!0);let C=" ";if(g||b||w){if(C=b?"\n":"",w){const e=d(w);C+=`\n${i.indentComment(e,n.indent)}`}""!==E||n.inFlow?C+=`\n${n.indent}`:"\n"===C&&v&&(C="\n\n")}else if(!y&&s.isCollection(t)){const e=E[0],s=E.indexOf("\n"),r=-1!==s,o=n.inFlow??t.flow??0===t.items.length;if(r||!o){let t=!1;if(r&&("&"===e||"!"===e)){let n=E.indexOf(" ");"&"===e&&-1!==n&&n<s&&"!"===E[n+1]&&(n=E.indexOf(" ",n+1)),(-1===n||s<n)&&(t=!0)}t||(C=`\n${n.indent}`)}}else""!==E&&"\n"!==E[0]||(C="");return O+=C+E,n.inFlow?A&&a&&a():v&&!A?O+=i.lineComment(O,n.indent,d(v)):k&&c&&c(),O}},8080(e,t,n){var s=n(181),r=n(9714),o=n(7180);const i={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof s.Buffer)return s.Buffer.from(e,"base64");if("function"==typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},i,a,c){if(!n)return"";const l=n;let u;if("function"==typeof s.Buffer)u=l instanceof s.Buffer?l.toString("base64"):s.Buffer.from(l.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<l.length;++t)e+=String.fromCharCode(l[t]);u=btoa(e)}}if(t??(t=r.Scalar.BLOCK_LITERAL),t!==r.Scalar.QUOTE_DOUBLE){const e=Math.max(i.options.lineWidth-i.indent.length,i.options.minContentWidth),n=Math.ceil(u.length/e),s=new Array(n);for(let t=0,r=0;t<n;++t,r+=e)s[t]=u.substr(r,e);u=s.join(t===r.Scalar.BLOCK_LITERAL?"\n":" ")}return o.stringifyString({comment:e,type:t,value:u},i,a,c)}};t.binary=i},8166(e,t,n){var s,r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.ChangelogProvider=void 0;const a=i(n(1398));t.ChangelogProvider=class{context;_onDidChangeTreeData=new a.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;changes=[];constructor(e){this.context=e}refresh(){this._onDidChangeTreeData.fire(void 0)}setChanges(e){this.changes=e,this.refresh()}clearChanges(){this.changes=[],this.refresh()}getTreeItem(e){return e}getChildren(e){if(!e){if(0===this.changes.length)return Promise.resolve([new u]);const e=new Map,t=["BREAKING","DANGEROUS","WARNING","INFO"];for(const t of this.changes){const n=t.severity;e.has(n)||e.set(n,[]),e.get(n).push(t)}const n=[];for(const s of t){const t=e.get(s);t&&t.length>0&&n.push(new c(s,t))}return Promise.resolve(n)}return e instanceof c?Promise.resolve(e.changes.map(e=>new l(e))):Promise.resolve([])}};class c extends a.TreeItem{severity;changes;constructor(e,t){super(e,a.TreeItemCollapsibleState.Expanded),this.severity=e,this.changes=t,this.tooltip=`${t.length} ${e.toLowerCase()} change(s)`,this.description=`${t.length}`,this.iconPath=this.getSeverityIcon(e),this.contextValue="severity"}getSeverityIcon(e){switch(e){case"BREAKING":return new a.ThemeIcon("error",new a.ThemeColor("errorForeground"));case"DANGEROUS":return new a.ThemeIcon("warning",new a.ThemeColor("problemsWarningIcon.foreground"));case"WARNING":return new a.ThemeIcon("info",new a.ThemeColor("problemsInfoIcon.foreground"));case"INFO":return new a.ThemeIcon("circle-outline");default:return new a.ThemeIcon("circle")}}}class l extends a.TreeItem{change;constructor(e){super(e.path,a.TreeItemCollapsibleState.None),this.change=e,this.tooltip=new a.MarkdownString,this.tooltip.appendMarkdown(`### ${e.path}\n\n`),this.tooltip.appendMarkdown(`**Type:** ${e.type}\n\n`),this.tooltip.appendMarkdown(`**Category:** ${e.category}\n\n`),this.tooltip.appendMarkdown(`**Description:** ${e.description}`),void 0!==e.oldValue&&this.tooltip.appendMarkdown(`\n\n**Old Value:** \`${JSON.stringify(e.oldValue)}\``),void 0!==e.newValue&&this.tooltip.appendMarkdown(`\n\n**New Value:** \`${JSON.stringify(e.newValue)}\``),this.description=e.description.substring(0,50),this.iconPath=this.getTypeIcon(e.type),this.contextValue="change"}getTypeIcon(e){switch(e){case"ADDED":return new a.ThemeIcon("diff-added",new a.ThemeColor("gitDecoration.addedResourceForeground"));case"REMOVED":return new a.ThemeIcon("diff-removed",new a.ThemeColor("gitDecoration.deletedResourceForeground"));case"MODIFIED":return new a.ThemeIcon("diff-modified",new a.ThemeColor("gitDecoration.modifiedResourceForeground"));case"DEPRECATED":return new a.ThemeIcon("circle-slash",new a.ThemeColor("problemsWarningIcon.foreground"));default:return new a.ThemeIcon("circle")}}}class u extends a.TreeItem{constructor(){super("No changes detected",a.TreeItemCollapsibleState.None),this.tooltip="Run a comparison to see changes",this.description="Run comparison to analyze",this.iconPath=new a.ThemeIcon("info"),this.contextValue="noChanges",this.command={command:"changelogHub.compare",title:"Compare API Specs"}}}},8197(e,t){function n(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}Object.defineProperty(t,"__esModule",{value:!0}),t.generateReport=function(e,t){switch(t){case"json":return function(e){const t={metadata:{generatedAt:(new Date).toISOString(),apiName:e.apiName,fromVersion:e.fromVersion,toVersion:e.toVersion},summary:{totalChanges:e.totalChanges,breakingChanges:e.breakingChanges.length,riskScore:e.riskScore,riskLevel:e.riskLevel,semverRecommendation:e.semverRecommendation,...e.summary},breakingChanges:e.breakingChanges.map(e=>({type:e.type,category:e.category,path:e.path,description:e.description,migrationSuggestion:e.migrationSuggestion,impactScore:e.impactScore})),changes:e.changes.map(e=>({type:e.type,category:e.category,severity:e.severity,path:e.path,description:e.description,oldValue:e.oldValue,newValue:e.newValue}))};return JSON.stringify(t,null,2)}(e);case"html":return function(e){const t=e.breakingChanges.map(e=>`\n      <tr class="breaking">\n        <td><code>${n(e.path)}</code></td>\n        <td>${e.type}</td>\n        <td>${n(e.description)}</td>\n        <td>${e.impactScore}/100</td>\n        <td>${n(e.migrationSuggestion)}</td>\n      </tr>`).join(""),s=e.changes.filter(e=>"BREAKING"!==e.severity).map(e=>`\n      <tr class="${e.severity.toLowerCase()}">\n        <td><code>${n(e.path)}</code></td>\n        <td>${e.type}</td>\n        <td>${e.severity}</td>\n        <td>${n(e.description)}</td>\n      </tr>`).join("");return`<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>API Changelog - ${e.apiName}</title>\n  <style>\n    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: 40px; background: #1e1e1e; color: #d4d4d4; }\n    h1, h2 { color: #569cd6; }\n    .summary { background: #2d2d2d; padding: 20px; border-radius: 8px; margin: 20px 0; }\n    .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; }\n    .metric { text-align: center; }\n    .metric-value { font-size: 24px; font-weight: bold; }\n    .metric-label { color: #888; font-size: 14px; }\n    table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n    th, td { padding: 12px; text-align: left; border-bottom: 1px solid #444; }\n    th { background: #333; font-weight: 600; }\n    tr.breaking { background: rgba(255, 107, 107, 0.1); }\n    tr.dangerous { background: rgba(254, 202, 87, 0.1); }\n    tr.warning { background: rgba(254, 202, 87, 0.05); }\n    tr.info { background: rgba(84, 160, 255, 0.1); }\n    code { background: #333; padding: 2px 6px; border-radius: 4px; color: #ce9178; }\n    .risk-low { color: #4caf50; }\n    .risk-medium { color: #ff9800; }\n    .risk-high { color: #f44336; }\n    .risk-critical { color: #b71c1c; font-weight: bold; }\n  </style>\n</head>\n<body>\n  <h1>API Changelog</h1>\n  <p><strong>${e.apiName}</strong> v${e.fromVersion} → v${e.toVersion}</p>\n\n  <div class="summary">\n    <div class="summary-grid">\n      <div class="metric">\n        <div class="metric-value">${e.totalChanges}</div>\n        <div class="metric-label">Total Changes</div>\n      </div>\n      <div class="metric">\n        <div class="metric-value" style="color: #ff6b6b;">${e.breakingChanges.length}</div>\n        <div class="metric-label">Breaking</div>\n      </div>\n      <div class="metric">\n        <div class="metric-value risk-${e.riskLevel.toLowerCase()}">${e.riskLevel}</div>\n        <div class="metric-label">Risk Level</div>\n      </div>\n      <div class="metric">\n        <div class="metric-value">${e.riskScore}/100</div>\n        <div class="metric-label">Risk Score</div>\n      </div>\n      <div class="metric">\n        <div class="metric-value">${e.semverRecommendation}</div>\n        <div class="metric-label">Recommended</div>\n      </div>\n    </div>\n  </div>\n\n  ${e.breakingChanges.length>0?`\n  <h2>Breaking Changes</h2>\n  <table>\n    <thead>\n      <tr><th>Path</th><th>Type</th><th>Description</th><th>Impact</th><th>Migration</th></tr>\n    </thead>\n    <tbody>${t}</tbody>\n  </table>\n  `:""}\n\n  ${s?`\n  <h2>Other Changes</h2>\n  <table>\n    <thead>\n      <tr><th>Path</th><th>Type</th><th>Severity</th><th>Description</th></tr>\n    </thead>\n    <tbody>${s}</tbody>\n  </table>\n  `:""}\n\n  <footer style="margin-top: 40px; color: #666; font-size: 12px;">\n    Generated at ${(new Date).toISOString()} by Changelog Hub\n  </footer>\n</body>\n</html>`}(e);default:return function(e){const t=[];if(t.push("# API Changelog"),t.push(""),t.push(`**${e.apiName}** v${e.fromVersion} → v${e.toVersion}`),t.push(""),t.push("## Summary"),t.push(""),t.push("| Metric | Value |"),t.push("|--------|-------|"),t.push(`| Total Changes | ${e.totalChanges} |`),t.push(`| Breaking Changes | ${e.breakingChanges.length} |`),t.push(`| Risk Level | ${e.riskLevel} |`),t.push(`| Risk Score | ${e.riskScore}/100 |`),t.push(`| Recommended Bump | **${e.semverRecommendation}** |`),t.push(""),e.breakingChanges.length>0){t.push("## Breaking Changes"),t.push(""),t.push("> **Warning:** These changes may break existing clients."),t.push("");for(const n of e.breakingChanges)t.push(`### \`${n.path}\``),t.push(""),t.push(`- **Type:** ${n.type}`),t.push(`- **Description:** ${n.description}`),t.push(`- **Impact Score:** ${n.impactScore}/100`),t.push(`- **Migration:** ${n.migrationSuggestion}`),t.push("")}const n=e.changes.filter(e=>"DANGEROUS"===e.severity);if(n.length>0){t.push("## Dangerous Changes"),t.push("");for(const e of n)t.push(`- **${e.path}**: ${e.description}`);t.push("")}const s=e.changes.filter(e=>"WARNING"===e.severity);if(s.length>0){t.push("## Warnings"),t.push("");for(const e of s)t.push(`- **${e.path}**: ${e.description}`);t.push("")}const r=e.changes.filter(e=>"ADDED"===e.type&&"INFO"===e.severity);if(r.length>0){t.push("## Additions"),t.push("");for(const e of r)t.push(`- ${e.description}`);t.push("")}return t.push("---"),t.push(`*Generated at ${(new Date).toISOString()} by Changelog Hub*`),t.join("\n")}(e)}},t.generateShortSummary=function(e){const t=[];e.breakingChanges.length>0&&t.push(`${e.breakingChanges.length} breaking`);const n=e.changes.filter(e=>"ADDED"===e.type).length;n>0&&t.push(`${n} added`);const s=e.changes.filter(e=>"MODIFIED"===e.type).length;s>0&&t.push(`${s} modified`);const r=e.changes.filter(e=>"REMOVED"===e.type).length;return r>0&&t.push(`${r} removed`),0===t.length?"No API changes detected":`API changes: ${t.join(", ")}`}},8334(e,t,n){var s=n(484);t.mapIncludes=function(e,t,n){const{uniqueKeys:r}=e.options;if(!1===r)return!1;const o="function"==typeof r?r:(e,t)=>e===t||s.isScalar(e)&&s.isScalar(t)&&e.value===t.value;return t.some(e=>o(e.key,n))}},8416(e,t,n){var s=n(484),r=n(7902),o=n(9714),i=n(6010);function a(e,t){if(s.isSeq(e))for(let n=0;n<e.items.length;++n){let i=e.items[n];if(!s.isPair(i)){if(s.isMap(i)){i.items.length>1&&t("Each pair must have its own sequence indicator");const e=i.items[0]||new r.Pair(new o.Scalar(null));if(i.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${i.commentBefore}\n${e.key.commentBefore}`:i.commentBefore),i.comment){const t=e.value??e.key;t.comment=t.comment?`${i.comment}\n${t.comment}`:i.comment}i=e}e.items[n]=s.isPair(i)?i:new r.Pair(i)}}else t("Expected a sequence for this tag");return e}function c(e,t,n){const{replacer:s}=n,o=new i.YAMLSeq(e);o.tag="tag:yaml.org,2002:pairs";let a=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let i,c;if("function"==typeof s&&(e=s.call(t,String(a++),e)),Array.isArray(e)){if(2!==e.length)throw new TypeError(`Expected [key, value] tuple: ${e}`);i=e[0],c=e[1]}else if(e&&e instanceof Object){const t=Object.keys(e);if(1!==t.length)throw new TypeError(`Expected tuple with one key, not ${t.length} keys`);i=t[0],c=e[i]}else i=e;o.items.push(r.createPair(i,c,n))}return o}const l={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:a,createNode:c};t.createPairs=c,t.pairs=l,t.resolvePairs=a},8523(e,t,n){var s=n(3334),r=n(6055),o=n(1919),i=n(8531),a=n(5132),c=n(988),l=n(2891);const u=[s.map,o.seq,i.string,r.nullTag,a.boolTag,l.intOct,l.int,l.intHex,c.floatNaN,c.floatExp,c.float];t.schema=u},8531(e,t,n){var s=n(7180);const r={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,r)=>(t=Object.assign({actualString:!0},t),s.stringifyString(e,t,n,r))};t.string=r},8644(e,t,n){var s=n(9378);t.flowIndentCheck=function(e,t,n){if("flow-collection"===t?.type){const r=t.end[0];r.indent!==e||"]"!==r.source&&"}"!==r.source||!s.containsNewline(t)||n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}},8673(e,t,n){var s=n(484),r=n(9125);const o={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},i=e=>e.replace(/[!,[\]{}]/g,e=>o[e]);class a{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},a.defaultYaml,e),this.tags=Object.assign({},a.defaultTags,t)}clone(){const e=new a(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new a(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:a.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},a.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:a.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},a.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),s=n.shift();switch(s){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,s]=n;return this.tags[e]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;return"1.1"===e||"1.2"===e?(this.yaml.version=e,!0):(t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1)}default:return t(0,`Unknown directive ${s}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,s]=e.match(/^(.*!)([^!]*)$/s);s||t(`The ${e} tag has no suffix`);const r=this.tags[n];if(r)try{return r+decodeURIComponent(s)}catch(e){return t(String(e)),null}return"!"===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+i(e.substring(n.length));return"!"===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let o;if(e&&n.length>0&&s.isNode(e.contents)){const t={};r.visit(e.contents,(e,n)=>{s.isNode(n)&&n.tag&&(t[n.tag]=!0)}),o=Object.keys(t)}else o=[];for(const[s,r]of n)"!!"===s&&"tag:yaml.org,2002:"===r||e&&!o.some(e=>e.startsWith(r))||t.push(`%TAG ${s} ${r}`);return t.join("\n")}}a.defaultYaml={explicit:!1,version:"1.2"},a.defaultTags={"!!":"tag:yaml.org,2002:"},t.Directives=a},8898(e,t,n){var s=n(6906),r=n(484),o=n(3732);t.NodeBase=class{constructor(e){Object.defineProperty(this,r.NODE_TYPE,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:n,onAnchor:i,reviver:a}={}){if(!r.isDocument(e))throw new TypeError("A document argument is required");const c={anchors:new Map,doc:e,keep:!0,mapAsMap:!0===t,mapKeyWarned:!1,maxAliasCount:"number"==typeof n?n:100},l=o.toJS(this,"",c);if("function"==typeof i)for(const{count:e,res:t}of c.anchors.values())i(t,e);return"function"==typeof a?s.applyReviver(a,{"":l},"",l):l}}},9046(e,t,n){var s=n(1736),r=n(1614),o=n(484),i=n(7902),a=n(3732),c=n(625),l=n(1768),u=n(6261),h=n(6906),p=n(5219),d=n(8673);class f{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,o.NODE_TYPE,{value:o.DOC});let s=null;"function"==typeof t||Array.isArray(t)?s=t:void 0===n&&t&&(n=t,t=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=r;let{version:i}=r;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(i=this.directives.yaml.version)):this.directives=new d.Directives({version:i}),this.setSchema(i,n),this.contents=void 0===e?null:this.createNode(e,s,n)}clone(){const e=Object.create(f.prototype,{[o.NODE_TYPE]:{value:o.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=o.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){m(this.contents)&&this.contents.add(e)}addIn(e,t){m(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=u.anchorNames(this);e.anchor=!t||n.has(t)?u.findNewAnchor(t||"a",n):t}return new s.Alias(e.anchor)}createNode(e,t,n){let s;if("function"==typeof t)e=t.call({"":e},"",e),s=t;else if(Array.isArray(t)){const e=e=>"number"==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),s=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:r,anchorPrefix:i,flow:a,keepUndefined:c,onTagObj:l,tag:h}=n??{},{onAnchor:d,setAnchors:f,sourceObjects:m}=u.createNodeAnchors(this,i||"a"),g={aliasDuplicateObjects:r??!0,keepUndefined:c??!1,onAnchor:d,onTagObj:l,replacer:s,schema:this.schema,sourceObjects:m},y=p.createNode(e,h,g);return a&&o.isCollection(y)&&(y.flow=!0),f(),y}createPair(e,t,n={}){const s=this.createNode(e,null,n),r=this.createNode(t,null,n);return new i.Pair(s,r)}delete(e){return!!m(this.contents)&&this.contents.delete(e)}deleteIn(e){return r.isEmptyPath(e)?null!=this.contents&&(this.contents=null,!0):!!m(this.contents)&&this.contents.deleteIn(e)}get(e,t){return o.isCollection(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return r.isEmptyPath(e)?!t&&o.isScalar(this.contents)?this.contents.value:this.contents:o.isCollection(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!o.isCollection(this.contents)&&this.contents.has(e)}hasIn(e){return r.isEmptyPath(e)?void 0!==this.contents:!!o.isCollection(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=r.collectionFromPath(this.schema,[e],t):m(this.contents)&&this.contents.set(e,t)}setIn(e,t){r.isEmptyPath(e)?this.contents=t:null==this.contents?this.contents=r.collectionFromPath(this.schema,Array.from(e),t):m(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new d.Directives({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new d.Directives({version:e}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new c.Schema(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:s,onAnchor:r,reviver:o}={}){const i={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof s?s:100},c=a.toJS(this.contents,t??"",i);if("function"==typeof r)for(const{count:e,res:t}of i.anchors.values())r(t,e);return"function"==typeof o?h.applyReviver(o,{"":c},"",c):c}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return l.stringifyDocument(this,e)}}function m(e){if(o.isCollection(e))return!0;throw new Error("Expected a YAML collection as document contents")}t.Document=f},9094(e,t,n){var s=n(484),r=n(9714),o=n(4070),i=n(7571);t.composeScalar=function(e,t,n,a){const{value:c,type:l,comment:u,range:h}="block-scalar"===t.type?o.resolveBlockScalar(e,t,a):i.resolveFlowScalar(t,e.options.strict,a),p=n?e.directives.tagName(n.source,e=>a(n,"TAG_RESOLVE_FAILED",e)):null;let d,f;d=e.options.stringKeys&&e.atKey?e.schema[s.SCALAR]:p?function(e,t,n,r,o){if("!"===n)return e[s.SCALAR];const i=[];for(const t of e.tags)if(!t.collection&&t.tag===n){if(!t.default||!t.test)return t;i.push(t)}for(const e of i)if(e.test?.test(t))return e;const a=e.knownTags[n];return a&&!a.collection?(e.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(o(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),e[s.SCALAR])}(e.schema,c,p,n,a):"scalar"===t.type?function({atKey:e,directives:t,schema:n},r,o,i){const a=n.tags.find(t=>(!0===t.default||e&&"key"===t.default)&&t.test?.test(r))||n[s.SCALAR];if(n.compat){const e=n.compat.find(e=>e.default&&e.test?.test(r))??n[s.SCALAR];a.tag!==e.tag&&i(o,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${t.tagString(a.tag)} or ${t.tagString(e.tag)}`,!0)}return a}(e,c,t,a):e.schema[s.SCALAR];try{const o=d.resolve(c,e=>a(n??t,"TAG_RESOLVE_FAILED",e),e.options);f=s.isScalar(o)?o:new r.Scalar(o)}catch(e){const s=e instanceof Error?e.message:String(e);a(n??t,"TAG_RESOLVE_FAILED",s),f=new r.Scalar(c)}return f.range=h,f.source=c,l&&(f.type=l),p&&(f.tag=p),d.format&&(f.format=d.format),u&&(f.comment=u),f}},9112(e,t,n){var s=n(5141),r=n(7808),o=n(5970);t.createScalarToken=s.createScalarToken,t.resolveAsScalar=s.resolveAsScalar,t.setScalarValue=s.setScalarValue,t.stringify=r.stringify,t.visit=o.visit,t.BOM="\ufeff",t.DOCUMENT="",t.FLOW_END="",t.SCALAR="",t.isCollection=e=>!!e&&"items"in e,t.isScalar=e=>!!e&&("scalar"===e.type||"single-quoted-scalar"===e.type||"double-quoted-scalar"===e.type||"block-scalar"===e.type),t.prettyToken=function(e){switch(e){case"\ufeff":return"<BOM>";case"":return"<DOC>";case"":return"<FLOW_END>";case"":return"<SCALAR>";default:return JSON.stringify(e)}},t.tokenType=function(e){switch(e){case"\ufeff":return"byte-order-mark";case"":return"doc-mode";case"":return"flow-error-end";case"":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}},9125(e,t,n){var s=n(484);const r=Symbol("break visit"),o=Symbol("skip children"),i=Symbol("remove node");function a(e,t){const n=h(t);s.isDocument(e)?c(null,e.contents,n,Object.freeze([e]))===i&&(e.contents=null):c(null,e,n,Object.freeze([]))}function c(e,t,n,o){const a=p(e,t,n,o);if(s.isNode(a)||s.isPair(a))return d(e,o,a),c(e,a,n,o);if("symbol"!=typeof a)if(s.isCollection(t)){o=Object.freeze(o.concat(t));for(let e=0;e<t.items.length;++e){const s=c(e,t.items[e],n,o);if("number"==typeof s)e=s-1;else{if(s===r)return r;s===i&&(t.items.splice(e,1),e-=1)}}}else if(s.isPair(t)){o=Object.freeze(o.concat(t));const e=c("key",t.key,n,o);if(e===r)return r;e===i&&(t.key=null);const s=c("value",t.value,n,o);if(s===r)return r;s===i&&(t.value=null)}return a}async function l(e,t){const n=h(t);s.isDocument(e)?await u(null,e.contents,n,Object.freeze([e]))===i&&(e.contents=null):await u(null,e,n,Object.freeze([]))}async function u(e,t,n,o){const a=await p(e,t,n,o);if(s.isNode(a)||s.isPair(a))return d(e,o,a),u(e,a,n,o);if("symbol"!=typeof a)if(s.isCollection(t)){o=Object.freeze(o.concat(t));for(let e=0;e<t.items.length;++e){const s=await u(e,t.items[e],n,o);if("number"==typeof s)e=s-1;else{if(s===r)return r;s===i&&(t.items.splice(e,1),e-=1)}}}else if(s.isPair(t)){o=Object.freeze(o.concat(t));const e=await u("key",t.key,n,o);if(e===r)return r;e===i&&(t.key=null);const s=await u("value",t.value,n,o);if(s===r)return r;s===i&&(t.value=null)}return a}function h(e){return"object"==typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function p(e,t,n,r){return"function"==typeof n?n(e,t,r):s.isMap(t)?n.Map?.(e,t,r):s.isSeq(t)?n.Seq?.(e,t,r):s.isPair(t)?n.Pair?.(e,t,r):s.isScalar(t)?n.Scalar?.(e,t,r):s.isAlias(t)?n.Alias?.(e,t,r):void 0}function d(e,t,n){const r=t[t.length-1];if(s.isCollection(r))r.items[e]=n;else if(s.isPair(r))"key"===e?r.key=n:r.value=n;else{if(!s.isDocument(r)){const e=s.isAlias(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}r.contents=n}}a.BREAK=r,a.SKIP=o,a.REMOVE=i,l.BREAK=r,l.SKIP=o,l.REMOVE=i,t.visit=a,t.visitAsync=l},9378(e,t){t.containsNewline=function e(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes("\n"))return!0;if(t.end)for(const e of t.end)if("newline"===e.type)return!0;return!1;case"flow-collection":for(const n of t.items){for(const e of n.start)if("newline"===e.type)return!0;if(n.sep)for(const e of n.sep)if("newline"===e.type)return!0;if(e(n.key)||e(n.value))return!0}return!1;default:return!0}}},9637(e,t,n){var s=n(484),r=n(9714);const o="<<",i={identify:e=>e===o||"symbol"==typeof e&&e.description===o,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new r.Scalar(Symbol(o)),{addToJSMap:a}),stringify:()=>o};function a(e,t,n){if(n=e&&s.isAlias(n)?n.resolve(e.doc):n,s.isSeq(n))for(const s of n.items)c(e,t,s);else if(Array.isArray(n))for(const s of n)c(e,t,s);else c(e,t,n)}function c(e,t,n){const r=e&&s.isAlias(n)?n.resolve(e.doc):n;if(!s.isMap(r))throw new Error("Merge sources must be maps or map aliases");const o=r.toJSON(null,e,Map);for(const[e,n]of o)t instanceof Map?t.has(e)||t.set(e,n):t instanceof Set?t.add(e):Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0});return t}t.addMergeToJSMap=a,t.isMergeKey=(e,t)=>(i.identify(t)||s.isScalar(t)&&(!t.type||t.type===r.Scalar.PLAIN)&&i.identify(t.value))&&e?.doc.schema.tags.some(e=>e.tag===i.tag&&e.default),t.merge=i},9714(e,t,n){var s=n(484),r=n(8898),o=n(3732);class i extends r.NodeBase{constructor(e){super(s.SCALAR),this.value=e}toJSON(e,t){return t?.keep?this.value:o.toJS(this.value,e,t)}toString(){return String(this.value)}}i.BLOCK_FOLDED="BLOCK_FOLDED",i.BLOCK_LITERAL="BLOCK_LITERAL",i.PLAIN="PLAIN",i.QUOTE_DOUBLE="QUOTE_DOUBLE",i.QUOTE_SINGLE="QUOTE_SINGLE",t.Scalar=i,t.isScalarValue=e=>!e||"function"!=typeof e&&"object"!=typeof e}},t={},n=function n(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,n),o.exports}(4265);module.exports=n})();